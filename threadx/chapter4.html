<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="description" content="This chapter contains a description of all ThreadX services in alphabetic order.">
<title>Chapter 4 - Description of ThreadX Services</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Chapter 4 - Description of ThreadX Services</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This chapter contains a description of all ThreadX services in alphabetic order. Their names are designed so all similar services are grouped together. In the <strong>Return Values</strong> section in the following descriptions, values in <strong>BOLD</strong> are not affected by the <strong>TX_DISABLE_ERROR_CHECKING</strong> define used to disable API error checking; while values shown in nonbold are completely disabled. In addition, a "<strong>Yes</strong>" listed under the "<strong>Preemption Possible</strong>" heading indicates that calling the service may resume a higher-priority thread, thus preempting the calling thread.</p>
</div>
<div class="paragraph">
<p>The Threadx API functions available to the application are as follows.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_block_pool_services">Block_Pool_Services</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#tx_block_allocate">tx_block_allocate</a></p>
</li>
<li>
<p><a href="#tx_block_pool_create">tx_block_pool_create</a></p>
</li>
<li>
<p><a href="#tx_block_pool_delete">tx_block_pool_delete</a></p>
</li>
<li>
<p><a href="#tx_block_pool_info_get">tx_block_pool_info_get</a></p>
</li>
<li>
<p><a href="#tx_block_pool_performance_info_get">tx_block_pool_performance_info_get</a></p>
</li>
<li>
<p><a href="#tx_block_pool_performance_system_info_get">tx_block_pool_performance_system_info_get</a></p>
</li>
<li>
<p><a href="#tx_block_pool_prioritize">tx_block_pool_prioritize</a></p>
</li>
<li>
<p><a href="#tx_block_release">tx_block_release</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_event_flags_services">Event_Flags_Services</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#tx_event_flags_create">tx_event_flags_create</a></p>
</li>
<li>
<p><a href="#tx_event_flags_delete">tx_event_flags_delete</a></p>
</li>
<li>
<p><a href="#tx_event_flags_get">tx_event_flags_get</a></p>
</li>
<li>
<p><a href="#tx_event_flags_info_get">tx_event_flags_info_get</a></p>
</li>
<li>
<p><a href="#tx_event_flags_performance_info_get">tx_event_flags_performance_info_get</a></p>
</li>
<li>
<p><a href="#tx_event_flags_performance_system_info_get">tx_event_flags_performance_system_info_get</a></p>
</li>
<li>
<p><a href="#tx_event_flags_set">tx_event_flags_set</a></p>
</li>
<li>
<p><a href="#tx_event_flags_set_notify">tx_event_flags_set_notify</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_interrupt_services">Interrupt_Services</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#tx_interrupt_control">tx_interrupt_control</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mutex_services">Mutex_Services</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#tx_mutex_create">tx_mutex_create</a></p>
</li>
<li>
<p><a href="#tx_mutex_delete">tx_mutex_delete</a></p>
</li>
<li>
<p><a href="#tx_mutex_get">tx_mutex_get</a></p>
</li>
<li>
<p><a href="#tx_mutex_info_get">tx_mutex_info_get</a></p>
</li>
<li>
<p><a href="#tx_mutex_performance_info_get">tx_mutex_performance_info_get</a></p>
</li>
<li>
<p><a href="#tx_mutex_performance_system_info_get">tx_mutex_performance_system_info_get</a></p>
</li>
<li>
<p><a href="#tx_mutex_prioritize">tx_mutex_prioritize</a></p>
</li>
<li>
<p><a href="#tx_mutex_put">tx_mutex_put</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_queue_services">Queue_Services</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#tx_queue_create">tx_queue_create</a></p>
</li>
<li>
<p><a href="#tx_queue_delete">tx_queue_delete</a></p>
</li>
<li>
<p><a href="#tx_queue_flush">tx_queue_flush</a></p>
</li>
<li>
<p><a href="#tx_queue_front_send">tx_queue_front_send</a></p>
</li>
<li>
<p><a href="#tx_queue_info_get">tx_queue_info_get</a></p>
</li>
<li>
<p><a href="#tx_queue_performance_info_get">tx_queue_performance_info_get</a></p>
</li>
<li>
<p><a href="#tx_queue_performance_system_info_get">tx_queue_performance_system_info_get</a></p>
</li>
<li>
<p><a href="#tx_queue_prioritize">tx_queue_prioritize</a></p>
</li>
<li>
<p><a href="#tx_queue_receive">tx_queue_receive</a></p>
</li>
<li>
<p><a href="#tx_queue_send">tx_queue_send</a></p>
</li>
<li>
<p><a href="#tx_queue_send_notify">tx_queue_send_notify</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_semaphore_services">Semaphore_Services</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#tx_semaphore_ceiling_put">tx_semaphore_ceiling_put</a></p>
</li>
<li>
<p><a href="#tx_semaphore_create">tx_semaphore_create</a></p>
</li>
<li>
<p><a href="#tx_semaphore_delete">tx_semaphore_delete</a></p>
</li>
<li>
<p><a href="#tx_semaphore_get">tx_semaphore_get</a></p>
</li>
<li>
<p><a href="#tx_semaphore_info_get">tx_semaphore_info_get</a></p>
</li>
<li>
<p><a href="#tx_semaphore_performance_info_get">tx_semaphore_performance_info_get</a></p>
</li>
<li>
<p><a href="#tx_semaphore_performance_system_info_get">tx_semaphore_performance_system_info_get</a></p>
</li>
<li>
<p><a href="#tx_semaphore_prioritize">tx_semaphore_prioritize</a></p>
</li>
<li>
<p><a href="#tx_semaphore_put">tx_semaphore_put</a></p>
</li>
<li>
<p><a href="#tx_semaphore_put_notify">tx_semaphore_put_notify</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thread_services">Thread_Services</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#tx_thread_create">tx_thread_create</a></p>
</li>
<li>
<p><a href="#tx_thread_delete">tx_thread_delete</a></p>
</li>
<li>
<p><a href="#tx_thread_entry_exit_notify">tx_thread_entry_exit_notify</a></p>
</li>
<li>
<p><a href="#tx_thread_identify">tx_thread_identify</a></p>
</li>
<li>
<p><a href="#tx_thread_info_get">tx_thread_info_get</a></p>
</li>
<li>
<p><a href="#tx_thread_performance_info_get">tx_thread_performance_info_get</a></p>
</li>
<li>
<p><a href="#tx_thread_performance_system_info_get">tx_thread_performance_system_info_get</a></p>
</li>
<li>
<p><a href="#tx_thread_preemption_change">tx_thread_preemption_change</a></p>
</li>
<li>
<p><a href="#tx_thread_priority_change">tx_thread_priority_change</a></p>
</li>
<li>
<p><a href="#tx_thread_relinquish">tx_thread_relinquish</a></p>
</li>
<li>
<p><a href="#tx_thread_reset">tx_thread_reset</a></p>
</li>
<li>
<p><a href="#tx_thread_resume">tx_thread_resume</a></p>
</li>
<li>
<p><a href="#tx_thread_sleep">tx_thread_sleep</a></p>
</li>
<li>
<p><a href="#tx_thread_stack_error_notify">tx_thread_stack_error_notify</a></p>
</li>
<li>
<p><a href="#tx_thread_suspend">tx_thread_suspend</a></p>
</li>
<li>
<p><a href="#tx_thread_terminate">tx_thread_terminate</a></p>
</li>
<li>
<p><a href="#tx_thread_time_slice_change">tx_thread_time_slice_change</a></p>
</li>
<li>
<p><a href="#tx_thread_wait_abort">tx_thread_wait_abort</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_time_services">Time_Services</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#tx_time_get">tx_time_get</a></p>
</li>
<li>
<p><a href="#tx_time_set">tx_time_set</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_timer_services">Timer_Services</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#tx_timer_activate">tx_timer_activate</a></p>
</li>
<li>
<p><a href="#tx_timer_change">tx_timer_change</a></p>
</li>
<li>
<p><a href="#tx_timer_create">tx_timer_create</a></p>
</li>
<li>
<p><a href="#tx_timer_deactivate">tx_timer_deactivate</a></p>
</li>
<li>
<p><a href="#tx_timer_delete">tx_timer_delete</a></p>
</li>
<li>
<p><a href="#tx_timer_info_get">tx_timer_info_get</a></p>
</li>
<li>
<p><a href="#tx_timer_performance_info_get">tx_timer_performance_info_get</a></p>
</li>
<li>
<p><a href="#tx_timer_performance_system_info_get">tx_timer_performance_system_info_get</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_block_allocate">tx_block_allocate</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Allocate fixed-size block of memory</p>
</div>
<div class="sect2">
<h3 id="_prototype">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_block_allocate(
    TX_BLOCK_POOL *pool_ptr,
    VOID **block_ptr,
    ULONG wait_option);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description">Description</h3>
<div class="paragraph">
<p>This service allocates a fixed-size memory block from the specified memory pool. The actual size of the memory block is determined during memory pool creation.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>It is important to ensure application code does not write outside the allocated memory block. If this happens, corruption occurs in an adjacent (usually subsequent) memory block. The results are unpredictable and often fatal!</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>pool_ptr</em>:<br>
Pointer to a previously created memory block pool.</p>
</li>
<li>
<p><em>block_ptr</em>:<br>
Pointer to a destination block pointer. On successful allocation, the address of the allocated memory block is placed where this parameter points.</p>
</li>
<li>
<p><em>wait_option</em>:<br>
Defines how the service behaves if there are no memory blocks available. The wait options are defined as follows:</p>
<div class="ulist">
<ul>
<li>
<p><strong>TX_NO_WAIT</strong> (0x00000000) - Selecting <strong>TX_NO_WAIT</strong> results in an immediate return from this service regardless if it was successful or not. <em>This is the only valid option if the service is called from a non-thread; e.g., Initialization, timer, or ISR</em>.</p>
</li>
<li>
<p><strong>TX_WAIT_FOREVER</strong> (0xFFFFFFF) - Selecting <strong>TX_WAIT_FOREVER</strong> causes the calling thread to suspend indefinitely until a memory block is available.</p>
</li>
<li>
<p><em>timeout value</em> (0x00000001 through 0xFFFFFFFE) - Selecting a numeric value (1-0xFFFFFFFE) specifies the maximum number of timer-ticks to stay suspended while waiting for a memory block.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong>	(0x00)	Successful memory block allocation.</p>
</li>
<li>
<p><strong>TX_DELETED</strong>	(0x01)	Memory block pool was deleted while thread was suspended.</p>
</li>
<li>
<p><strong>TX_NO_MEMORY</strong>	(0x10)	Service was unable to allocate a block of memory within the specified time to wait.</p>
</li>
<li>
<p><strong>TX_WAIT_ABORTED</strong>	(0x1A)	Suspension was aborted by another thread, timer or ISR.</p>
</li>
<li>
<p><strong>TX_POOL_ERROR</strong>	(0x02)	Invalid memory block pool pointer.</p>
</li>
<li>
<p><strong>TX_WAIT_ERROR</strong>	(0x04)	A wait option other than TX_NO_WAIT was specified on a call from a nonthread.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong>	(0x03)	Invalid pointer to destination pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BLOCK_POOL my_pool;
unsigned char *memory_ptr;

UINT status;

/* Allocate a memory block from my_pool. Assume that the pool has
already been created with a call to tx_block_pool_create. */

status = tx_block_allocate(&amp;my_pool, (VOID **) &amp;memory_ptr,
  TX_NO_WAIT);

/* If status equals TX_SUCCESS, memory_ptr contains the address of
the allocated block of memory. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_block_pool_create">tx_block_pool_create</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create pool of fixed-size memory blocks</p>
</div>
<div class="sect2">
<h3 id="_prototype_2">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_block_pool_create(
    TX_BLOCK_POOL pool_ptr,
    CHAR name_ptr,
    ULONG block_size,
    VOID pool_start,
    ULONG pool_size);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_2">Description</h3>
<div class="paragraph">
<p>This service creates a pool of fixed-size memory blocks. The memory area specified is divided into as many fixed-size memory blocks as possible using the formula:</p>
</div>
<div class="paragraph">
<p><strong>total blocks</strong> = (<strong>total bytes</strong>) /
(<strong>block size</strong> + sizeof(void *))</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Each memory block contains one pointer of overhead that is invisible to the user and is represented by the "sizeof(void *)" in the preceding formula.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_2">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><strong>pool_ptr</strong>: Pointer to a memory block pool control block.</p>
</li>
<li>
<p><strong>name_ptr</strong>: Pointer to the name of the memory block pool.</p>
</li>
<li>
<p><strong>block_size</strong>: Number of bytes in each memory block.</p>
</li>
<li>
<p><strong>pool_start</strong>: Starting address of the memory block pool. The starting address must be aligned to the size of the ULONG data type..</p>
</li>
<li>
<p><strong>pool_size</strong>: Total number of bytes available for the memory block pool.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_2">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong>	(0x00)	Successful memory block pool creation.</p>
</li>
<li>
<p><strong>TX_POOL_ERROR</strong>	(0x02)	Invalid memory block pool pointer. Either the pointer is NULL or the pool is already created.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong>	(0x03)	Invalid starting address of the pool.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong>	(0x13)	Invalid caller of this service.</p>
</li>
<li>
<p><strong>TX_SIZE_ERROR</strong>	(0x05)	Size of pool is invalid.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_2">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_2">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_2">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BLOCK_POOL my_pool;

UINT status;

/* Create a memory pool whose total size is 1000 bytes starting at
address 0x100000. Each block in this pool is defined to be 50 bytes
long. */
status = tx_block_pool_create(&amp;my_pool, "my_pool_name",
  50, (VOID *) 0x100000, 1000);

/* If status equals TX_SUCCESS, my_pool contains 18 memory blocks
of 50 bytes each. The reason there are not 20 blocks in the pool is
because of the one overhead pointer associated with each block. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_2">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_block_pool_delete">tx_block_pool_delete</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delete memory block pool</p>
</div>
<div class="sect2">
<h3 id="_prototype_3">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_block_pool_delete(TX_BLOCK_POOL *pool_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_3">Description</h3>
<div class="paragraph">
<p>This service deletes the specified block-memory pool. All threads suspended waiting for a memory block from this pool are resumed and given a <strong>TX_DELETED</strong> return status.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>It is the application&#8217;s responsibility to manage the memory area associated with the pool, which is available after this service completes. In addition, the application must prevent use of a deleted pool or its former memory blocks.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_3">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>pool_ptr</em>: Pointer to a previously created memory block pool.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_3">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful memory block pool deletion.</p>
</li>
<li>
<p><strong>TX_POOL_ERROR</strong> (0x02) Invalid memory block pool pointer.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_3">Allowed From</h3>
<div class="paragraph">
<p>Threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_3">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_3">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BLOCK_POOL my_pool;

UINT           status;

/* Delete entire memory block
pool. Assume that the pool has already been created with a call to
tx_block_pool_create. */
status = tx_block_pool_delete(&amp;my_pool);

/* If status equals TX_SUCCESS, the memory block pool is deleted.*/</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_3">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_block_pool_info_get">tx_block_pool_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieve information about block pool</p>
</div>
<div class="sect2">
<h3 id="_prototype_4">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_block_pool_info_get(
    TX_BLOCK_POOL *pool_ptr,
    CHAR **name,
    ULONG *available,
    ULONG *total_blocks,
    TX_THREAD **first_suspended,
    ULONG *suspended_count,
    TX_BLOCK_POOL **next_pool);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_4">Description</h3>
<div class="paragraph">
<p>This service retrieves information about the specified block memory pool.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_4">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><strong>pool_ptr</strong>: Pointer to previously created memory block pool.</p>
</li>
<li>
<p><strong>name</strong>: Pointer to destination for the pointer to the block pool&#8217;s name.</p>
</li>
<li>
<p><strong>available</strong>: Pointer to destination for the number of available blocks in the block pool.</p>
</li>
<li>
<p><strong>total_blocks</strong>: Pointer to destination for the total number of blocks in the block pool.</p>
</li>
<li>
<p><strong>first_suspended</strong>: Pointer to destination for the pointer to the thread that is first on the suspension list of this block pool.</p>
</li>
<li>
<p><strong>suspended_count</strong>: Pointer to destination for the number of threads currently suspended on this block pool.</p>
</li>
<li>
<p><strong>next_pool</strong>: Pointer to destination for the pointer of the next created block pool.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_4">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful block pool information retrieve.</p>
</li>
<li>
<p><strong>TX_POOL_ERROR</strong> (0x02) Invalid memory block pool pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_4">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_4">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_4">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BLOCK_POOL my_pool;
CHAR *name;
ULONG available;
ULONG total_blocks;
TX_THREAD *first_suspended;
ULONG suspended_count;
TX_BLOCK_POOL *next_pool;
UINT status;

/* Retrieve information about the previously created
block pool "my_pool." */
status = tx_block_pool_info_get(&amp;my_pool, &amp;name,
  &amp;available,&amp;total_blocks,
  &amp;first_suspended, &amp;suspended_count,
  &amp;next_pool);

/* If status equals TX_SUCCESS, the information requested is
valid. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_4">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_block_pool_performance_info_get">tx_block_pool_performance_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get block pool performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_5">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_block_pool_performance_info_get(
    TX_BLOCK_POOL *pool_ptr,
    ULONG *allocates,
    ULONG *releases,
    ULONG *suspensions,
    ULONG *timeouts));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_5">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about the specified memory block pool.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong>TX_BLOCK_POOL_ENABLE_PERFORMANCE_INFO</strong> <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_5">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><strong>pool_ptr</strong>: Pointer to previously created memory block pool.</p>
</li>
<li>
<p><strong>allocates</strong>: Pointer to destination for the number of allocate requests performed on this pool.</p>
</li>
<li>
<p><strong>releases</strong>: Pointer to destination for the number of release requests performed on this pool.</p>
</li>
<li>
<p><strong>suspensions</strong>: Pointer to destination for the number of thread allocation suspensions on this pool.</p>
</li>
<li>
<p><strong>timeouts</strong>: Pointer to destination for the number of allocate suspension timeouts on this pool.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_5">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong>	(0x00)	Successful block pool performance get.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong>	(0x03)	Invalid block pool pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong>	(0xFF)	The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_5">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_5">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_5">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BLOCK_POOL my_pool;
ULONG allocates;
ULONG releases;
ULONG suspensions;
ULONG timeouts;

/* Retrieve performance information on the previously created block
pool. */
status = tx_block_pool_performance_info_get(&amp;my_pool, &amp;allocates,
  &amp;releases,
  &amp;suspensions,
  &amp;timeouts);

/* If status is TX_SUCCESS the performance information was successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_5">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_block_pool_performance_system_info_get">tx_block_pool_performance_system_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get block pool system performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_6">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_block_pool_performance_system_info_get(
    ULONG *allocates,
    ULONG *releases,
    ULONG *suspensions,
    ULONG *timeouts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_6">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about all memory block pools in the application.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong>TX_BLOCK_POOL_ENABLE_PERFORMANCE_INFO</strong> <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_6">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><strong>allocates</strong>: Pointer to destination for the total number of allocate requests performed on all block pools.</p>
</li>
<li>
<p><strong>releases</strong>: Pointer to destination for the total number of release requests performed on all block pools.</p>
</li>
<li>
<p><strong>suspensions</strong>: Pointer to destination for the total number of thread allocation suspensions on all block pools.</p>
</li>
<li>
<p><strong>timeouts</strong>: Pointer to destination for the total number of allocate suspension timeouts on all block pools.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_6">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful block pool system performance get.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_6">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_6">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_6">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG       allocates;
ULONG       releases;
ULONG       suspensions;
ULONG       timeouts;

/* Retrieve performance information on all the block pools in
the system. */
status = tx_block_pool_performance_system_info_get(&amp;allocates,
    &amp;releases,&amp;suspensions, &amp;timeouts);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_6">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_block_pool_prioritize">tx_block_pool_prioritize</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prioritize block pool suspension list</p>
</div>
<div class="sect2">
<h3 id="_prototype_7">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_block_pool_prioritize(TX_BLOCK_POOL *pool_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_7">Description</h3>
<div class="paragraph">
<p>This service places the highest priority thread suspended for a block of memory on this pool at the front of the suspension list. All other threads remain in the same FIFO order they were suspended in.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_7">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>pool_ptr</em>: Pointer to a memory block pool control block.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_7">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful block pool prioritize.</p>
</li>
<li>
<p><strong>TX_POOL_ERROR</strong> (0x02) Invalid memory block pool pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_7">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_7">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_7">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BLOCK_POOL my_pool;
UINT status;

/* Ensure that the highest priority thread will receive
the next free block in this pool. */
status = tx_block_pool_prioritize(&amp;my_pool);

/* If status equals TX_SUCCESS, the highest priority
suspended thread is at the front of the list. The
next tx_block_release call will wake up this thread. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_7">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_block_release">tx_block_release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Release fixed-size block of memory</p>
</div>
<div class="sect2">
<h3 id="_prototype_8">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_block_release(VOID *block_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_8">Description</h3>
<div class="paragraph">
<p>This service releases a previously allocated block back to its associated memory pool. If there are one or more threads suspended waiting for memory blocks from this pool, the first thread suspended is given this memory block and resumed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>The application may want to clear the memory block before releasing it to prevent data leaks.</em>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The application must prevent using a memory block area after it has been released back to the pool.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_8">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>block_ptr</em>: Pointer to the previously allocated memory block.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_8">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful memory block release.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid pointer to memory block.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_8">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_8">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_8">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BLOCK_POOL my_pool;
unsigned char *memory_ptr;
UINT status;

/* Release a memory block back to my_pool. Assume that the
pool has been created and the memory block has been
allocated. */
status = tx_block_release((VOID *) memory_ptr);

/* If status equals TX_SUCCESS, the block of memory pointed
to by memory_ptr has been returned to the pool. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_8">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_byte_allocate">tx_byte_allocate</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Allocate bytes of memory</p>
</div>
<div class="sect2">
<h3 id="_prototype_9">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_byte_allocate(
    TX_BYTE_POOL *pool_ptr,
    VOID **memory_ptr,
    ULONG memory_size,
    ULONG wait_option);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_9">Description</h3>
<div class="paragraph">
<p>This service allocates the specified number of bytes from the specified memory byte pool.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>It is important to ensure application code does not write outside the allocated memory block. If this happens, corruption occurs in an adjacent (usually subsequent) memory block. The results are unpredictable and often fatal!</em>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>The performance of this service is a function of the block size and the amount of fragmentation in the pool. Hence, this service should not be used during time-critical threads of execution.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_9">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><strong>pool_ptr</strong>: Pointer to a previously created memory pool.</p>
</li>
<li>
<p><strong>memory_ptr</strong>: Pointer to a destination memory pointer. On successful allocation, the address of the allocated memory area is placed where this parameter points to.</p>
</li>
<li>
<p><strong>memory_size</strong>: Number of bytes requested.</p>
</li>
<li>
<p><strong>wait_option</strong>: Defines how the service behaves if there is not enough memory available. The wait options are defined as follows:</p>
<div class="ulist">
<ul>
<li>
<p><strong>TX_NO_WAIT</strong>: (0x00000000)</p>
</li>
<li>
<p><strong>TX_WAIT_FOREVER</strong>: (0xFFFFFFFF)</p>
</li>
<li>
<p>timeout value: (0x00000001 through 0xFFFFFFFE)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Selecting TX_NO_WAIT results in an immediate return from this service regardless of whether or not it was successful. <em>This is the only valid option if the service is called from initialization.</em></p>
</div>
<div class="paragraph">
<p>+
Selecting TX_WAIT_FOREVER causes the calling thread to suspend indefinitely until enough memory is available.</p>
</div>
<div class="paragraph">
<p>+
Selecting a numeric value (1-0xFFFFFFFE) specifies the maximum number of timer-ticks to stay suspended while waiting for the memory.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_9">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful memory allocation.</p>
</li>
<li>
<p><strong>TX_DELETED</strong> (0x01) Memory pool was deleted while thread was suspended.</p>
</li>
<li>
<p><strong>TX_NO_MEMORY</strong> (0x10) Service was unable to allocate the memory within the specified time to wait.</p>
</li>
<li>
<p><strong>TX_WAIT_ABORTED</strong> (0x1A) Suspension was aborted by another thread, timer, or ISR.</p>
</li>
<li>
<p><strong>TX_POOL_ERROR</strong> (0x02) Invalid memory pool pointer.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid pointer to destination pointer.</p>
</li>
<li>
<p><strong>TX_SIZE_ERROR</strong> (0X05) Requested size is zero or larger than the pool.</p>
</li>
<li>
<p><strong>TX_WAIT_ERROR</strong> (0x04) A wait option other than TX_NO_WAIT was specified on a call from a nonthread.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_9">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_9">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_9">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BYTE_POOL my_pool;
unsigned char*memory_ptr;
UINT status;
/* Allocate a 112 byte memory area from my_pool. Assume
that the pool has already been created with a call to
tx_byte_pool_create. */
status = tx_byte_allocate(&amp;my_pool, (VOID **) &amp;memory_ptr,
    112, TX_NO_WAIT);

/* If status equals TX_SUCCESS, memory_ptr contains the
address of the allocated memory area. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_9">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_byte_pool_create">tx_byte_pool_create</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create memory pool of bytes</p>
</div>
<div class="sect2">
<h3 id="_prototype_10">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_byte_pool_create(
    TX_BYTE_POOL *pool_ptr,
    CHAR *name_ptr,
    VOID *pool_start,
    ULONG pool_size);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_10">Description</h3>
<div class="paragraph">
<p>This service creates a memory byte pool in the area specified. Initially the pool consists of basically one very large free block. However, the pool is broken into smaller blocks as allocations are made.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_10">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>pool_ptr</em>: Pointer to a memory pool control block.</p>
</li>
<li>
<p><em>name_ptr</em>: Pointer to the name of the memory pool.</p>
</li>
<li>
<p><em>pool_start</em>: Starting address of the memory pool. The starting address must be aligned to the size of the ULONG data type.</p>
</li>
<li>
<p><em>pool_size</em>: Total number of bytes available for the memory pool.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_10">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful memory pool creation.</p>
</li>
<li>
<p><strong>TX_POOL_ERROR</strong> (0x02) Invalid memory pool pointer. Either the pointer is NULL or the pool is already created.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid starting address of the pool.</p>
</li>
<li>
<p><strong>TX_SIZE_ERROR</strong> (0x05) Size of pool is invalid.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_10">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_10">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_10">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BYTE_POOL my_pool;
UINT status;
/* Create a memory pool whose total size is 2000 bytes
starting at address 0x500000. */
status = tx_byte_pool_create(&amp;my_pool, "my_pool_name",
    (VOID *) 0x500000, 2000);

/* If status equals TX_SUCCESS, my_pool is available for
allocating memory. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_10">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_byte_pool_delete">tx_byte_pool_delete</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delete memory byte pool</p>
</div>
<div class="sect2">
<h3 id="_prototype_11">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_byte_pool_delete(TX_BYTE_POOL *pool_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_11">Description</h3>
<div class="paragraph">
<p>This service deletes the specified memory byte pool. All threads suspended waiting for memory from this pool are resumed and given a <strong>TX_DELETED</strong> return status.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>It is the application&#8217;s responsibility to manage the memory area associated with the pool, which is available after this service completes. In addition, the application must prevent use of a deleted pool or memory previously allocated from it.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_11">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>pool_ptr</em>: Pointer to a previously created memory pool.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_11">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful memory pool deletion.</p>
</li>
<li>
<p><strong>TX_POOL_ERROR</strong> (0x02) Invalid memory pool pointer.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_11">Allowed From</h3>
<div class="paragraph">
<p>Threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_11">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_11">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BYTE_POOL my_pool;
UINT status;
/* Delete entire memory pool. Assume that the pool has already
been created with a call to tx_byte_pool_create. */
status = tx_byte_pool_delete(&amp;my_pool);

/* If status equals TX_SUCCESS, memory pool is deleted. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_11">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_byte_pool_info_get">tx_byte_pool_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieve information about byte pool</p>
</div>
<div class="sect2">
<h3 id="_prototype_12">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_byte_pool_info_get(
    TX_BYTE_POOL *pool_ptr,
    CHAR **name,
    ULONG *available,
    ULONG *fragments,
    TX_THREAD **first_suspended,
    ULONG *suspended_count,
    TX_BYTE_POOL **next_pool);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_12">Description</h3>
<div class="paragraph">
<p>This service retrieves information about the specified memory byte pool.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_12">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>pool_ptr</em>: Pointer to previously created memory pool.</p>
</li>
<li>
<p><em>name</em>: Pointer to destination for the pointer to the byte pool&#8217;s name.</p>
</li>
<li>
<p><em>available</em>: Pointer to destination for the number of available bytes in the pool.</p>
</li>
<li>
<p><em>fragments</em>: Pointer to destination for the total number of memory fragments in the byte pool.</p>
</li>
<li>
<p><em>first_suspended</em>: Pointer to destination for the pointer to the thread that is first on the suspension list of this byte pool.</p>
</li>
<li>
<p><em>suspended_count</em>: Pointer to destination for the number of threads currently suspended on this byte pool.</p>
</li>
<li>
<p><em>next_pool</em>: Pointer to destination for the pointer of the next created byte pool.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_12">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful pool information retrieve.</p>
</li>
<li>
<p><strong>TX_POOL_ERROR</strong> (0x02) Invalid memory pool pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_12">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_12">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_12">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BYTE_POOL my_pool;
CHAR *name;
ULONG available;
ULONG fragments;
TX_THREAD *first_suspended;
ULONG suspended_count;
TX_BYTE_POOL *next_pool;
UINT status;

/* Retrieve information about the previously created
block pool "my_pool." */
status = tx_byte_pool_info_get(&amp;my_pool, &amp;name,
  &amp;available, &amp;fragments,
  &amp;first_suspended, &amp;suspended_count,
  &amp;next_pool);

/* If status equals TX_SUCCESS, the information requested is
valid. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_12">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_byte_pool_performance_info_get">tx_byte_pool_performance_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get byte pool performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_13">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_byte_pool_performance_info_get(
    TX_BYTE_POOL *pool_ptr,
    ULONG *allocates,
    ULONG *releases,
    ULONG *fragments_searched,
    ULONG *merges,
    ULONG *splits,
    ULONG *suspensions,
    ULONG *timeouts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_13">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about the specified memory byte pool.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong>TX_BYTE_POOL_ENABLE_PERFORMANCE_INFO</strong> <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_13">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>pool_ptr</em>: Pointer to previously created memory byte pool.</p>
</li>
<li>
<p><em>allocates</em>: Pointer to destination for the number of allocate requests performed on this pool.</p>
</li>
<li>
<p><em>releases</em>: Pointer to destination for the number of release requests performed on this pool.</p>
</li>
<li>
<p><em>fragments_searched</em>: Pointer to destination for the number of internal memory fragments searched during allocation requests on this pool.</p>
</li>
<li>
<p><em>merges</em>: Pointer to destination for the number of internal memory blocks merged during allocation requests on this pool.</p>
</li>
<li>
<p><em>splits</em>: Pointer to destination for the number of internal memory blocks split (fragments) created during allocation requests on this pool.</p>
</li>
<li>
<p><em>suspensions</em>: Pointer to destination for the number of thread allocation suspensions on this pool.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the number of allocate suspension timeouts on this pool.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_13">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful byte pool performance get.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid byte pool pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_13">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_13">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_13">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BYTE_POOL my_pool;
ULONG fragments_searched;
ULONG merges;
ULONG splits;
ULONG allocates;
ULONG releases;
ULONG suspensions;
ULONG timeouts;

/* Retrieve performance information on the previously created byte
pool. */
status = tx_byte_pool_performance_info_get(&amp;my_pool,
  &amp;fragments_searched,
  &amp;merges, &amp;splits,
  &amp;allocates, &amp;releases,
  &amp;suspensions,&amp;timeouts);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_13">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_byte_pool_performance_system_info_get">tx_byte_pool_performance_system_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get byte pool system performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_14">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_byte_pool_performance_system_info_get(
    ULONG *allocates,
    ULONG *releases,
    ULONG *fragments_searched,
    ULONG *merges,
    ULONG *splits,
    ULONG *suspensions,
    ULONG *timeouts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_14">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about all memory byte pools in the system.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong>TX_BYTE_POOL_ENABLE_PERFORMANCE_INFO</strong> <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_14">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>allocates</em>: Pointer to destination for the number of allocate requests performed on this pool.</p>
</li>
<li>
<p><em>releases</em>: Pointer to destination for the number of release requests performed on this pool.</p>
</li>
<li>
<p><em>fragments_searched</em>: Pointer to destination for the total number of internal memory fragments searched during allocation requests on all byte pools.</p>
</li>
<li>
<p><em>merges</em>: Pointer to destination for the total number of internal memory blocks merged during allocation requests on all byte pools.</p>
</li>
<li>
<p><em>splits</em>: Pointer to destination for the total number of internal memory blocks split (fragments) created during allocation requests on all byte pools.</p>
</li>
<li>
<p><em>suspensions</em>: Pointer to destination for the total number of thread allocation suspensions on all byte pools.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the total number of allocate suspension timeouts on all byte pools.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_14">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful byte pool performance get.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_14">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_14">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_14">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG fragments_searched;
ULONG merges;
ULONG splits;
ULONG allocates;
ULONG releases;
ULONG suspensions;
ULONG timeouts;

/* Retrieve performance information on all byte pools in the
system. */
status =
tx_byte_pool_performance_system_info_get(&amp;fragments_searched,
  &amp;merges, &amp;splits, &amp;allocates, &amp;releases,
  &amp;suspensions, &amp;timeouts);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_14">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_byte_pool_prioritize">tx_byte_pool_prioritize</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prioritize byte pool suspension list</p>
</div>
<div class="sect2">
<h3 id="_prototype_15">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_byte_pool_prioritize(TX_BYTE_POOL *pool_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_15">Description</h3>
<div class="paragraph">
<p>This service places the highest priority thread suspended for memory on this pool at the front of the suspension list. All other threads remain in the same FIFO order they were suspended in.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_15">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>pool_ptr</em>: Pointer to a memory pool control block.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_15">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful memory pool prioritize.</p>
</li>
<li>
<p><strong>TX_POOL_ERROR</strong> (0x02) Invalid memory pool pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_15">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_15">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_15">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_BYTE_POOL my_pool;
UINT status;

/* Ensure that the highest priority thread will receive
the next free memory from this pool. */
status = tx_byte_pool_prioritize(&amp;my_pool);

/* If status equals TX_SUCCESS, the highest priority
suspended thread is at the front of the list. The
next tx_byte_release call will wake up this thread,
if there is enough memory to satisfy its request. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_15">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_byte_release">tx_byte_release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Release bytes back to memory pool</p>
</div>
<div class="sect2">
<h3 id="_prototype_16">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_byte_release(VOID *memory_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_16">Description</h3>
<div class="paragraph">
<p>This service releases a previously allocated memory area back to its associated pool. If there are one or more threads suspended waiting for memory from this pool, each suspended thread is given memory and resumed until the memory is exhausted or until there are no more suspended threads. This process of allocating memory to suspended threads always begins with the first thread suspended.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>The application may want to clear the memory area before releasing it to prevent data leaks.</em>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The application must prevent using the memory area after it is released.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_16">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>memory_ptr</em>: Pointer to the previously allocated memory area.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_16">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful memory release.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid memory area pointer.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_16">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_16">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_16">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">unsigned char *memory_ptr;
UINT status;

/* Release a memory back to my_pool. Assume that the memory
area was previously allocated from my_pool. */
status = tx_byte_release((VOID *) memory_ptr);

/* If status equals TX_SUCCESS, the memory pointed to by
memory_ptr has been returned to the pool. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_16">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_block_pool_services">Block Pool Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_event_flags_create">tx_event_flags_create</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create event flags group</p>
</div>
<div class="sect2">
<h3 id="_prototype_17">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_event_flags_create(
    TX_EVENT_FLAGS_GROUP *group_ptr,
    CHAR *name_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_17">Description</h3>
<div class="paragraph">
<p>This service creates a group of 32 event flags. All 32 event flags in the group are initialized to zero. Each event flag is represented by a single bit.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_17">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>group_ptr</em>: Pointer to an event flags group control block.</p>
</li>
<li>
<p><em>name_ptr</em>: Pointer to the name of the event flags group.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_17">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful event group creation.</p>
</li>
<li>
<p><strong>TX_GROUP_ERROR</strong> (0x06) Invalid event group pointer. Either the pointer is <strong>NULL</strong> or the event group is already created.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_17">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_17">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_17">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_EVENT_FLAGS_GROUP my_event_group;
UINT status;

/* Create an event flags group. */
status = tx_event_flags_create(&amp;my_event_group,
  "my_event_group_name");

/* If status equals TX_SUCCESS, my_event_group is ready
for get and set services. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_17">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_event_flags_services">Event Flags Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_event_flags_delete">tx_event_flags_delete</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delete event flags group</p>
</div>
<div class="sect2">
<h3 id="_prototype_18">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_event_flags_delete(TX_EVENT_FLAGS_GROUP *group_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_18">Description</h3>
<div class="paragraph">
<p>This service deletes the specified event flags group. All threads suspended waiting for events from this group are resumed and given a TX_DELETED return status.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The application must ensure that a set notify callback for this event flags group is completed (or disabled) before deleting the event flags group. In addition, the application must prevent all future use of a deleted event flags group.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_18">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>group_ptr</em>: Pointer to a previously created event flags group.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_18">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful event flags group deletion.</p>
</li>
<li>
<p><strong>TX_GROUP_ERROR</strong> (0x06) Invalid event flags group pointer.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_18">Allowed From</h3>
<div class="paragraph">
<p>Threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_18">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_18">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_EVENT_FLAGS_GROUP my_event_flags_group;
UINT status;

/* Delete event flags group. Assume that the group has
already been created with a call to
tx_event_flags_create. */
status = tx_event_flags_delete(&amp;my_event_flags_group);

/* If status equals TX_SUCCESS, the event flags group is
deleted. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_18">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_event_flags_services">Event Flags Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_event_flags_get">tx_event_flags_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get event flags from event flags group</p>
</div>
<div class="sect2">
<h3 id="_prototype_19">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_event_flags_get(
    TX_EVENT_FLAGS_GROUP *group_ptr,
    ULONG requested_flags,
    UINT get_option,
    ULONG *actual_flags_ptr,
    ULONG wait_option);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_19">Description</h3>
<div class="paragraph">
<p>This service retrieves event flags from the specified event flags group. Each event flags group contains 32 event flags. Each flag is represented by a single bit. This service can retrieve a variety of event flag combinations, as selected by the input parameters.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_19">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>group_ptr</em>:<br>
Pointer to a previously created event flags group.</p>
</li>
<li>
<p><em>requested_flags</em>:<br>
32-bit unsigned variable that represents the requested event flags.</p>
</li>
<li>
<p><em>get_option</em>:<br>
Specifies whether all or any of the requested event flags are required. The following are valid selections:</p>
<div class="ulist">
<ul>
<li>
<p><strong>TX_AND</strong> (0x02)</p>
</li>
<li>
<p><strong>TX_AND_CLEAR</strong> (0x03)</p>
</li>
<li>
<p><strong>TX_OR</strong> (0x00)</p>
</li>
<li>
<p><strong>TX_OR_CLEAR</strong> (0x01)</p>
<div class="paragraph">
<p>Selecting TX_AND or TX_AND_CLEAR specifies that all event flags must be present in the group. Selecting TX_OR or TX_OR_CLEAR     specifies that any event flag is satisfactory. Event flags that satisfy the request are cleared (set to zero) if TX_AND_CLEAR or TX_OR_CLEAR are specified.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><em>actual_flags_ptr</em>:<br>
Pointer to destination of where the retrieved event flags are placed. Note that the actual flags obtained may contain flags that were not requested.</p>
</li>
<li>
<p><em>wait_option</em>: <br>
Defines how the service behaves if the selected event flags are not set. The wait options are defined as follows:</p>
<div class="ulist">
<ul>
<li>
<p><strong>TX_NO_WAIT</strong> (0x00000000) - Selecting TX_NO_WAIT results in an immediate return from this service regardless of whether or not it was successful. This is the only valid option if the service is called from a non-thread; e.g., Initialization, timer, or ISR.</p>
</li>
<li>
<p><strong>TX_WAIT_FOREVER</strong> timeout value  (0xFFFFFFFF) - Selecting TX_WAIT_FOREVER causes the calling thread to suspend indefinitely until the event flags are available.</p>
</li>
<li>
<p>timeout value (0x00000001 through 0xFFFFFFFE) - Selecting a numeric value (1-0xFFFFFFFE) specifies the maximum number of timer-ticks to stay suspended while waiting for the event flags.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_19">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful event flags get.</p>
</li>
<li>
<p><strong>TX_DELETED</strong> (0x01) Event flags group was deleted while thread was suspended.</p>
</li>
<li>
<p><strong>TX_NO_EVENTS</strong> (0x07) Service was unable to get the specified events within the specified time to wait.</p>
</li>
<li>
<p><strong>TX_WAIT_ABORTED</strong> (0x1A) Suspension was aborted by another thread, timer, or ISR.</p>
</li>
<li>
<p><strong>TX_GROUP_ERROR</strong> (0x06) Invalid event flags group pointer.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid pointer for actual event flags.</p>
</li>
<li>
<p><strong>TX_WAIT_ERROR</strong> (0x04) A wait option other than TX_NO_WAIT was specified on a call from a nonthread.</p>
</li>
<li>
<p><strong>TX_OPTION_ERROR</strong> (0x08) Invalid get-option was specified.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_19">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_19">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_19">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_EVENT_FLAGS_GROUP my_event_flags_group;
ULONG actual_events;
UINT status;

/* Request that event flags 0, 4, and 8 are all set. Also,
if they are set they should be cleared. If the event
flags are not set, this service suspends for a maximum of
20 timer-ticks. */
status = tx_event_flags_get(&amp;my_event_flags_group, 0x111,
    TX_AND_CLEAR, &amp;actual_events, 20);

/* If status equals TX_SUCCESS, actual_events contains the
actual events obtained. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_19">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_event_flags_services">Event Flags Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_event_flags_info_get">tx_event_flags_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieve information about event flags group</p>
</div>
<div class="sect2">
<h3 id="_prototype_20">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_event_flags_info_get(
    TX_EVENT_FLAGS_GROUP *group_ptr,
    CHAR **name, ULONG *current_flags,
    TX_THREAD **first_suspended,
    ULONG *suspended_count,
    TX_EVENT_FLAGS_GROUP **next_group);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_20">Description</h3>
<div class="paragraph">
<p>This service retrieves information about the specified event flags group.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_20">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>group_ptr</em>: Pointer to an event flags group control block.</p>
</li>
<li>
<p><em>name</em>: Pointer to destination for the pointer to the event flags group&#8217;s name.</p>
</li>
<li>
<p><em>current_flags</em>: Pointer to destination for the current set flags in the event flags group.</p>
</li>
<li>
<p><em>first_suspended</em>: Pointer to destination for the pointer to the thread that is first on the suspension list of this event flags group.</p>
</li>
<li>
<p><em>suspended_count</em>: Pointer to destination for the number of threads currently suspended on this event flags group.</p>
</li>
<li>
<p><em>next_group</em>: Pointer to destination for the pointer of the next created event flags group.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_20">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful event group information retrieval.</p>
</li>
<li>
<p><strong>TX_GROUP_ERROR</strong> (0x06) Invalid event group pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_20">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_20">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_20">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_EVENT_FLAGS_GROUP my_event_group;
CHAR *name;
ULONG current_flags;
TX_THREAD *first_suspended;
ULONG suspended_count;
TX_EVENT_FLAGS_GROUP *next_group;
UINT status;

/* Retrieve information about the previously created
event flags group "my_event_group." */
status = tx_event_flags_info_get(&amp;my_event_group, &amp;name,
    &amp;current_flags,
    &amp;first_suspended, &amp;suspended_count,
    &amp;next_group);
/* If status equals TX_SUCCESS, the information requested is
valid. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_20">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_event_flags_services">Event Flags Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_event_flags_performance_info_get">tx_event_flags_performance_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get event flags group performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_21">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_event_flags_performance_info_get(
    TX_EVENT_FLAGS_GROUP *group_ptr,
    ULONG *sets, ULONG *gets,
    ULONG *suspensions,
    ULONG *timeouts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_21">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about the specified event flags group.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>ThreadX library and application must be built with</em> <em>*TX_EVENT_FLAGS_ENABLE_PERFORMANCE_INFO</em>: <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_21">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>group_ptr</em>: Pointer to previously created event flags group.</p>
</li>
<li>
<p><em>sets</em>: Pointer to destination for the number of event flags set requests performed on this group.</p>
</li>
<li>
<p><em>gets</em>: Pointer to destination for the number of event flags get requests performed on this group.</p>
</li>
<li>
<p><em>suspensions</em>: Pointer to destination for the number of thread event flags get suspensions on this group.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the number of event flags get suspension timeouts on this group.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_21">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful event flags group performance get.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid event flags group pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_21">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_21">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_21">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_EVENT_FLAGS_GROUP my_event_flag_group;
ULONG sets;
ULONG gets;
ULONG suspensions;
ULONG timeouts;

/* Retrieve performance information on the previously created event
flag group. */
status = tx_event_flags_performance_info_get(&amp;my_event_flag_group,
    &amp;sets, &amp;gets, &amp;suspensions,
    &amp;timeouts);

/* If status is TX_SUCCESS the performance information was successfully
retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_21">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_event_flags_services">Event Flags Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_event_flags_performance_system_info_get">tx_event_flags_performance_system_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieve performance system information</p>
</div>
<div class="sect2">
<h3 id="_prototype_22">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_event_flags_performance_system_info_get(
    ULONG *sets,
    ULONG *gets,
    ULONG *suspensions,
    ULONG *timeouts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_22">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about all event flags groups in the system.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>ThreadX library and application must be built with</em> <strong>TX_EVENT_FLAGS_ENABLE_PERFORMANCE_INFO</strong> <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_22">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>sets</em>: Pointer to destination for the total number of event flags set requests performed on all groups.</p>
</li>
<li>
<p><em>gets</em>: Pointer to destination for the total number of event flags get requests performed on all groups.</p>
</li>
<li>
<p><em>suspensions</em>: Pointer to destination for the total number of thread event flags get suspensions on all groups.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the total number of event flags get suspension timeouts on all groups.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_22">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful event flags system performance get.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_22">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_22">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_22">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG sets;
ULONG gets;
ULONG suspensions;
ULONG timeouts;

/* Retrieve performance information on all previously created event
flag groups. */
status = tx_event_flags_performance_system_info_get(&amp;sets, &amp;gets,
    &amp;suspensions, &amp;timeouts);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_22">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_event_flags_services">Event Flags Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_event_flags_set">tx_event_flags_set</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Set event flags in an event flags group</p>
</div>
<div class="sect2">
<h3 id="_prototype_23">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_event_flags_set(
    TX_EVENT_FLAGS_GROUP *group_ptr,
    ULONG flags_to_set,
    UINT set_option);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_23">Description</h3>
<div class="paragraph">
<p>This service sets or clears event flags in an event flags group, depending upon the specified set-option. All suspended threads whose event flags request is now satisfied are resumed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_23">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>group_ptr</em>:<br>
Pointer to the previously created event flags group control block.</p>
</li>
<li>
<p><em>flags_to_set</em>:<br>
Specifies the event flags to set or clear based upon the set option selected.</p>
</li>
<li>
<p><em>set_option</em>:<br>
Specifies whether the event flags specified are ANDed or ORed into the current event flags of the group. The following are valid selections:</p>
<div class="ulist">
<ul>
<li>
<p><strong>TX_AND</strong> (0x02)</p>
</li>
<li>
<p><strong>TX_OR</strong> (0x00)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Selecting TX_AND specifies that the specified event flags are <strong>AND</strong>ed into the current event flags in the group. This option is often used to clear event flags in a group. Otherwise, if TX_OR is specified, the specified event flags are <strong>OR</strong>ed with the current event in the group.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_23">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful event flags set.</p>
</li>
<li>
<p><strong>TX_GROUP_ERROR</strong> (0x06) Invalid pointer to event flags group.</p>
</li>
<li>
<p><strong>TX_OPTION_ERROR</strong> (0x08) Invalid set-option specified.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_23">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_23">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_23">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_EVENT_FLAGS_GROUP my_event_flags_group;
UINT status;

/* Set event flags 0, 4, and 8. */
status = tx_event_flags_set(&amp;my_event_flags_group,
    0x111, TX_OR);

/* If status equals TX_SUCCESS, the event flags have been
set and any suspended thread whose request was satisfied
has been resumed. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_23">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_event_flags_services">Event Flags Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_event_flags_set_notify">tx_event_flags_set_notify</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Notify application when event flags are set</p>
</div>
<div class="sect2">
<h3 id="_prototype_24">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_event_flags_set_notify(
    TX_EVENT_FLAGS_GROUP *group_ptr,
    VOID (*events_set_notify)(TX_EVENT_FLAGS_GROUP *));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_24">Description</h3>
<div class="paragraph">
<p>This service registers a notification callback function that is called whenever one or more event flags are set in the specified event flags group. The processing of the notification callback is defined by the</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_24">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>group_ptr</em>: Pointer to previously created event flags group.</p>
</li>
<li>
<p><em>events_set_notify</em>: Pointer to application&#8217;s event flags set notification function. If this value is TX_NULL, notification is disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_24">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful registration of event flags set notification.</p>
</li>
<li>
<p><strong>TX_GROUP_ERROR</strong> (0x06) Invalid event flags group pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was compiled with notification capabilities disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_24">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_24">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_24">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_EVENT_FLAGS_GROUP my_group;

/* Register the "my_event_flags_set_notify" function for monitoring
event flags set in the event flags group "my_group." */
status = tx_event_flags_set_notify(&amp;my_group, my_event_flags_set_notify);

/* If status is TX_SUCCESS the event flags set notification function
was successfully registered. */
void my_event_flags_set_notify(TX_EVENT_FLAGS_GROUP *group_ptr)

/* One or more event flags was set in this group! */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_24">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_event_flags_services">Event Flags Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_interrupt_control">tx_interrupt_control</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Enable and disable interrupts</p>
</div>
<div class="sect2">
<h3 id="_prototype_25">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_interrupt_control(UINT new_posture);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_25">Description</h3>
<div class="paragraph">
<p>This service enables or disables interrupts as specified by the input parameter <em>new_posture</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>If this service is called from an application thread, the interrupt posture remains part of that thread&#8217;s context. For example, if the thread calls this routine to disable interrupts and then suspends, when it is resumed, interrupts are disabled again.</em>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<em>This service should not be used to enable interrupts during initialization! Doing so could cause unpredictable results.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_25">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>new_posture</em>: This parameter specifies whether interrupts are disabled or enabled. Legal values include <strong>TX_INT_DISABLE</strong> and <strong>TX_INT_ENABLE</strong>. The actual values for these parameters are port specific. In addition, some processing architectures might support additional interrupt disable postures.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_25">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>previous posture</strong> This service returns the previous interrupt posture to the caller. This allows users of the service to restore the previous posture after interrupts are disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_25">Allowed From</h3>
<div class="paragraph">
<p>Threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_25">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_25">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT my_old_posture;

/* Lockout interrupts */
my_old_posture = tx_interrupt_control(TX_INT_DISABLE);

/* Perform critical operations that need interrupts
locked-out.... */

/* Restore previous interrupt lockout posture. */
tx_interrupt_control(my_old_posture);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_25">See Also</h3>
<div class="paragraph">
<p>None</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_mutex_create">tx_mutex_create</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create mutual exclusion mutex</p>
</div>
<div class="sect2">
<h3 id="_prototype_26">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_mutex_create(
    TX_MUTEX *mutex_ptr,
    CHAR *name_ptr,
    UINT priority_inherit);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_26">Description</h3>
<div class="paragraph">
<p>This service creates a mutex for inter-thread mutual exclusion for resource protection.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_26">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>mutex_ptr</em>: Pointer to a mutex control block.</p>
</li>
<li>
<p><em>name_ptr</em>: Pointer to the name of the mutex.</p>
</li>
<li>
<p><em>priority_inherit</em>: Specifies whether or not this mutex supports priority inheritance. If this value is TX_INHERIT, then priority inheritance is supported. However, if TX_NO_INHERIT is specified, priority inheritance is not supported by this mutex.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_26">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful mutex creation.</p>
</li>
<li>
<p><strong>TX_MUTEX_ERROR</strong> (0x1C) Invalid mutex pointer. Either the pointer is NULL or the mutex is already created.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
<li>
<p><strong>TX_INHERIT_ERROR</strong> (0x1F) Invalid priority inherit parameter.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_26">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_26">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_26">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_MUTEX my_mutex;
UINT status;

/* Create a mutex to provide protection over a
common resource. */
status = tx_mutex_create(&amp;my_mutex,"my_mutex_name",
    TX_NO_INHERIT);

/* If status equals TX_SUCCESS, my_mutex is ready for
use. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_26">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_mutex_services">Mutex Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_mutex_delete">tx_mutex_delete</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delete mutual exclusion mutex</p>
</div>
<div class="sect2">
<h3 id="_prototype_27">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_mutex_delete(TX_MUTEX *mutex_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_27">Description</h3>
<div class="paragraph">
<p>This service deletes the specified mutex. All threads suspended waiting for the mutex are resumed and given a <strong>TX_DELETED</strong> return status.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>It is the application&#8217;s responsibility to prevent use of a deleted mutex.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_27">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>mutex_ptr</em>: Pointer to a previously created mutex.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_27">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful mutex deletion.</p>
</li>
<li>
<p><strong>TX_MUTEX_ERROR</strong> (0x1C) Invalid mutex pointer.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_27">Allowed From</h3>
<div class="paragraph">
<p>Threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_27">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_27">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_MUTEX my_mutex;
UINT status;

/* Delete a mutex. Assume that the mutex
has already been created. */
status = tx_mutex_delete(&amp;my_mutex);

/* If status equals TX_SUCCESS, the mutex is
deleted. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_27">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_mutex_services">Mutex Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_mutex_get">tx_mutex_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Obtain ownership of mutex</p>
</div>
<div class="sect2">
<h3 id="_prototype_28">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_mutex_get(
    TX_MUTEX *mutex_ptr,
    ULONG wait_option);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_28">Description</h3>
<div class="paragraph">
<p>This service attempts to obtain exclusive ownership of the specified mutex. If the calling thread already owns the mutex, an internal counter is incremented and a successful status is returned.</p>
</div>
<div class="paragraph">
<p>If the mutex is owned by another thread and this thread is higher priority and priority inheritance was specified at mutex create, the lower priority thread&#8217;s priority will be temporarily raised to that of the calling thread.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>The priority of the lower priority thread owning a mutex with priority inheritance should never be modified by an external thread during mutex ownership.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_28">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>mutex_ptr</em>:  <br>
Pointer to a previously created mutex.</p>
</li>
<li>
<p><em>wait_option</em>:<br>
Defines how the service behaves if the mutex is already owned by another thread. The wait options are defined as follows:</p>
<div class="ulist">
<ul>
<li>
<p><em>*TX_NO_WAIT</em>: (0x00000000) - Selecting TX_NO_WAIT results in an immediate return from this service regardless of whether or not it was successful. <em>This is the only valid option if the service is called from Initialization.</em></p>
</li>
<li>
<p><strong>TX_WAIT_FOREVER</strong> timeout value (0xFFFFFFFF) - Selecting <strong>TX_WAIT_FOREVER</strong> causes the calling thread to suspend indefinitely until the mutex is available.</p>
</li>
<li>
<p>timeout value (0x00000001 through 0xFFFFFFFE) - Selecting a numeric value (1-0xFFFFFFFE) specifies the maximum number of timer-ticks to stay suspended while waiting for the mutex.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_28">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful mutex get operation.</p>
</li>
<li>
<p><strong>TX_DELETED</strong> (0x01) Mutex was deleted while thread was suspended.</p>
</li>
<li>
<p><strong>TX_NOT_AVAILABLE</strong> (0x1D) Service was unable to get ownership of the mutex within the specified time to wait.</p>
</li>
<li>
<p><strong>TX_WAIT_ABORTED</strong> (0x1A) Suspension was aborted by another thread, timer, or ISR.</p>
</li>
<li>
<p><strong>TX_MUTEX_ERROR</strong> (0x1C) Invalid mutex pointer.</p>
</li>
<li>
<p><strong>TX_WAIT_ERROR</strong> (0x04) A wait option other than TX_NO_WAIT was specified on a call from a non-thread.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_28">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads and timers</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_28">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_28">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_MUTEX my_mutex;
UINT status;

/* Obtain exclusive ownership of the mutex "my_mutex".
If the mutex "my_mutex" is not available, suspend until it
becomes available. */
status = tx_mutex_get(&amp;my_mutex, TX_WAIT_FOREVER);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_28">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_mutex_services">Mutex Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_mutex_info_get">tx_mutex_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieve information about mutex</p>
</div>
<div class="sect2">
<h3 id="_prototype_29">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_mutex_info_get(
    TX_MUTEX *mutex_ptr,
    CHAR **name,
    ULONG *count,
    TX_THREAD **owner,
    TX_THREAD **first_suspended,
    ULONG *suspended_count,
    TX_MUTEX **next_mutex);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_29">Description</h3>
<div class="paragraph">
<p>This service retrieves information from the specified mutex.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_29">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>mutex_ptr</em>: Pointer to mutex control block.</p>
</li>
<li>
<p><em>name</em>: Pointer to destination for the pointer to the mutex&#8217;s name.</p>
</li>
<li>
<p><em>count</em>: Pointer to destination for the ownership count of the mutex.</p>
</li>
<li>
<p><em>owner</em>: Pointer to destination for the owning thread&#8217;s pointer.</p>
</li>
<li>
<p><em>first_suspended</em>: Pointer to destination for the pointer to the thread that is first on the suspension list of this mutex.</p>
</li>
<li>
<p><em>suspended_count</em>: Pointer to destination for the number of threads currently suspended on this mutex.</p>
</li>
<li>
<p><em>next_mutex</em>: Pointer to destination for the pointer of the next created mutex.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_29">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful mutex information retrieval.</p>
</li>
<li>
<p><strong>TX_MUTEX_ERROR</strong> (0x1C) Invalid mutex pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_29">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_29">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_29">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_MUTEX my_mutex;
CHAR *name;
ULONG count;
TX_THREAD *owner;
TX_THREAD *first_suspended;
ULONG suspended_count;
TX_MUTEX *next_mutex;
UINT status;

/* Retrieve information about the previously created
mutex "my_mutex." */
status = tx_mutex_info_get(&amp;my_mutex, &amp;name,
    &amp;count, &amp;owner,
    &amp;first_suspended, &amp;suspended_count,
    &amp;next_mutex);

/* If status equals TX_SUCCESS, the information requested is
valid. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_29">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_mutex_services">Mutex Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_mutex_performance_info_get">tx_mutex_performance_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get mutex performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_30">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_mutex_performance_info_get(
    TX_MUTEX *mutex_ptr,
    ULONG *puts,
    ULONG *gets,
    ULONG *suspensions,
    ULONG *timeouts,
    ULONG *inversions,
    ULONG *inheritances);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_30">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about the specified mutex.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong><em>TX_MUTEX_ENABLE_PERFORMANCE_INFO</em></strong> <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_30">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>mutex_ptr</em>: Pointer to previously created mutex.</p>
</li>
<li>
<p><em>puts</em>: Pointer to destination for the number of put requests performed on this mutex.</p>
</li>
<li>
<p><em>gets</em>: Pointer to destination for the number of get requests performed on this mutex.</p>
</li>
<li>
<p><em>suspensions</em>: Pointer to destination for the number of thread mutex get suspensions on this mutex.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the number of mutex get suspension timeouts on this mutex.</p>
</li>
<li>
<p><em>inversions</em>: Pointer to destination for the number of thread priority inversions on this mutex.</p>
</li>
<li>
<p><em>inheritances</em>: Pointer to destination for the number of thread priority inheritance operations on this mutex.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_30">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful mutex performance get.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid mutex pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_30">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_30">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_30">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_MUTEX my_mutex;
ULONG puts;
ULONG gets;
ULONG suspensions;
ULONG timeouts;
ULONG inversions;
ULONG inheritances;

/* Retrieve performance information on the previously created
mutex. */
status = tx_mutex_performance_info_get(&amp;my_mutex_ptr, &amp;puts, &amp;gets,
    &amp;suspensions, &amp;timeouts, &amp;inversions, &amp;inheritances);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_30">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_mutex_services">Mutex Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_mutex_performance_system_info_get">tx_mutex_performance_system_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get mutex system performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_31">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_mutex_performance_system_info_get(
    ULONG *puts,
    ULONG *gets,
    ULONG *suspensions,
    ULONG *timeouts,
    ULONG *inversions,
    ULONG *inheritances);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_31">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about all the mutexes in the system.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong>TX_MUTEX_ENABLE_PERFORMANCE_INFO</strong> <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_31">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>puts</em>: Pointer to destination for the total number of put requests performed on all mutexes.</p>
</li>
<li>
<p><em>gets</em>: Pointer to destination for the total number of get requests performed on all mutexes.</p>
</li>
<li>
<p><em>suspensions</em>: Pointer to destination for the total number of thread mutex get suspensions on all mutexes.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the total number of mutex get suspension timeouts on all mutexes.</p>
</li>
<li>
<p><em>inversions</em>: Pointer to destination for the total number of thread priority inversions on all mutexes.</p>
</li>
<li>
<p><em>inheritances</em>: Pointer to destination for the total number of thread priority inheritance operations on all mutexes.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_31">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful mutex system performance get.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_31">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_31">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_31">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG puts;
ULONG gets;
ULONG suspensions;
ULONG timeouts;
ULONG inversions;
ULONG inheritances;

/* Retrieve performance information on all previously created
mutexes. */
status = tx_mutex_performance_system_info_get(&amp;puts, &amp;gets,
    &amp;suspensions, &amp;timeouts,
    &amp;inversions, &amp;inheritances);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_31">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_mutex_services">Mutex Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_mutex_prioritize">tx_mutex_prioritize</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prioritize mutex suspension list</p>
</div>
<div class="sect2">
<h3 id="_prototype_32">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_mutex_prioritize(TX_MUTEX *mutex_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_32">Description</h3>
<div class="paragraph">
<p>This service places the highest priority thread suspended for ownership of the mutex at the front of the suspension list. All other threads remain in the same FIFO order they were suspended in.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_32">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>mutex_ptr</em>: Pointer to the previously created mutex.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_32">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful mutex prioritize.</p>
</li>
<li>
<p><strong>TX_MUTEX_ERROR</strong> (0x1C) Invalid mutex pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_32">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_32">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_32">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_MUTEX my_mutex;
UINT status;

/* Ensure that the highest priority thread will receive
ownership of the mutex when it becomes available. */
status = tx_mutex_prioritize(&amp;my_mutex);

/* If status equals TX_SUCCESS, the highest priority
suspended thread is at the front of the list. The
next tx_mutex_put call that releases ownership of the
mutex will give ownership to this thread and wake it
up. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_32">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_mutex_services">Mutex Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_mutex_put">tx_mutex_put</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Release ownership of mutex</p>
</div>
<div class="sect2">
<h3 id="_prototype_33">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_mutex_put(TX_MUTEX *mutex_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_33">Description</h3>
<div class="paragraph">
<p>This service decrements the ownership count of the specified mutex. If the ownership count is zero, the mutex is made available.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>If priority inheritance was selected during mutex creation, the priority of the releasing thread will be restored to the priority it had when it originally obtained ownership of the mutex. Any other priority changes made to the releasing thread during ownership of the mutex may be undone.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_33">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p>mutex_ptr Pointer to the previously created mutex.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_33">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful mutex release.</p>
</li>
<li>
<p><strong>TX_NOT_OWNED</strong> (0x1E) Mutex is not owned by caller.</p>
</li>
<li>
<p><strong>TX_MUTEX_ERROR</strong> (0x1C) Invalid pointer to mutex.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_33">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads and timers</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_33">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_33">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_MUTEX my_mutex;
UINT status;

/* Release ownership of "my_mutex." */
status = tx_mutex_put(&amp;my_mutex);

/* If status equals TX_SUCCESS, the mutex ownership
count has been decremented and if zero, released. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_33">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_mutex_services">Mutex Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_create">tx_queue_create</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create message queue</p>
</div>
<div class="sect2">
<h3 id="_prototype_34">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_create(
    TX_QUEUE *queue_ptr,
    CHAR *name_ptr,
    UINT message_size,
    VOID *queue_start,
    ULONG queue_size);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_34">Description</h3>
<div class="paragraph">
<p>This service creates a message queue that is typically used for interthread communication. The total number of messages is calculated from the specified message size and the total number of bytes in the queue.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>If the total number of bytes specified in the queue&#8217;s memory area is not evenly divisible by the specified message size, the remaining bytes in the memory area are not used.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_34">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>queue_ptr</em>: Pointer to a message queue control block.</p>
</li>
<li>
<p><em>name_ptr</em>: Pointer to the name of the message queue.</p>
</li>
<li>
<p><em>message_size</em>: Specifies the size of each message in the queue. Message sizes range from 1 32-bit word to 16 32-bit words. Valid message size options are numerical values from 1 through 16, inclusive.</p>
</li>
<li>
<p><em>queue_start</em>: Starting address of the message queue. The starting address must be aligned to the size of the ULONG data type.</p>
</li>
<li>
<p><em>queue_size</em>: Total number of bytes available for the message queue.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_34">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful message queue creation.</p>
</li>
<li>
<p><strong>TX_QUEUE_ERROR</strong> (0x09) Invalid message queue pointer. Either the pointer is NULL or the queue is already created.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid starting address of the message queue.</p>
</li>
<li>
<p><strong>TX_SIZE_ERROR</strong> (0x05) Size of message queue is invalid.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_34">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_34">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_34">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_QUEUE my_queue;
UINT status;

/* Create a message queue whose total size is 2000 bytes
starting at address 0x300000. Each message in this
queue is defined to be 4 32-bit words long. */
status = tx_queue_create(&amp;my_queue, "my_queue_name",
    4, (VOID *) 0x300000, 2000);

/* If status equals TX_SUCCESS, my_queue contains room
for storing 125 messages (2000 bytes/ 16 bytes per
message). */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_34">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_delete">tx_queue_delete</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delete message queue</p>
</div>
<div class="sect2">
<h3 id="_prototype_35">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_delete(TX_QUEUE *queue_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_35">Description</h3>
<div class="paragraph">
<p>This service deletes the specified message queue. All threads suspended waiting for a message from this queue are resumed and given a TX_DELETED return status.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The application must ensure that any send notify callback for this queue is completed (or disabled) before deleting the queue. In addition, the application must prevent any future use of a deleted queue.</em><br>
<br>
<em>It is also the application&#8217;s responsibility to manage the memory area associated with the queue, which is available after this service completes.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_35">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>queue_ptr</em>: Pointer to a previously created message queue.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_35">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful message queue deletion.</p>
</li>
<li>
<p><strong>TX_QUEUE_ERROR</strong> (0x09) Invalid message queue pointer.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_35">Allowed From</h3>
<div class="paragraph">
<p>Threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_35">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_35">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_QUEUE my_queue;
UINT status;

/* Delete entire message queue. Assume that the queue
has already been created with a call to
tx_queue_create. */
status = tx_queue_delete(&amp;my_queue);

/* If status equals TX_SUCCESS, the message queue is
deleted. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_35">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_flush">tx_queue_flush</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Empty messages in message queue</p>
</div>
<div class="sect2">
<h3 id="_prototype_36">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_flush(TX_QUEUE *queue_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_36">Description</h3>
<div class="paragraph">
<p>This service deletes all messages stored in the specified message queue.</p>
</div>
<div class="paragraph">
<p>If the queue is full, messages of all suspended threads are discarded. Each suspended thread is then resumed with a return status that indicates the message send was successful. If the queue is empty, this service does nothing.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_36">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>queue_ptr</em>: Pointer to a previously created message queue.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_36">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful message queue flush.</p>
</li>
<li>
<p><strong>TX_QUEUE_ERROR</strong> (0x09) Invalid message queue pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_36">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_36">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_36">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_QUEUE my_queue;
UINT status;

/* Flush out all pending messages in the specified message
queue. Assume that the queue has already been created
with a call to tx_queue_create. */
status = tx_queue_flush(&amp;my_queue);

/* If status equals TX_SUCCESS, the message queue is
empty. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_36">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_front_send">tx_queue_front_send</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Send message to the front of queue</p>
</div>
<div class="sect2">
<h3 id="_prototype_37">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_front_send(
    TX_QUEUE *queue_ptr,
    VOID *source_ptr,
    ULONG wait_option);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_37">Description</h3>
<div class="paragraph">
<p>This service sends a message to the front location of the specified message queue. The message is <strong>copied</strong> to the front of the queue from the memory area specified by the source pointer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_37">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>queue_ptr</em>:<br>
Pointer to a message queue control block.</p>
</li>
<li>
<p><em>source_ptr</em>:<br>
Pointer to the message.</p>
</li>
<li>
<p><em>wait_option</em>: <br>
Defines how the service behaves if the message queue is full. The wait options are defined as follows:</p>
<div class="ulist">
<ul>
<li>
<p><em>*TX_NO_WAIT</em>: (0x00000000) - Selecting TX_NO_WAIT results in an immediate return from this service regardless of whether or not it was successful. <em>This is the only valid option if the service is called from a non-thread; e.g., Initialization, timer, or ISR.</em></p>
</li>
<li>
<p><strong>TX_WAIT_FOREVER</strong> (0xFFFFFFFF) - Selecting TX_WAIT_FOREVER causes the calling thread to suspend indefinitely until there is room in the queue.</p>
</li>
<li>
<p>timeout value (0x00000001 through 0xFFFFFFFE) - Selecting a numeric value (1-0xFFFFFFFE) specifies the maximum number of timer-ticks to stay suspended while waiting for room in the queue.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_37">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful sending of message.</p>
</li>
<li>
<p><strong>TX_DELETED</strong> (0x01) Message queue was deleted while thread was suspended.</p>
</li>
<li>
<p><strong>TX_QUEUE_FULL</strong> (0x0B) Service was unable to send message because the queue was full for the duration of the specified time to wait.</p>
</li>
<li>
<p><strong>TX_WAIT_ABORTED</strong> (0x1A) Suspension was aborted by another thread, timer, or ISR.</p>
</li>
<li>
<p><strong>TX_QUEUE_ERROR</strong> (0x09) Invalid message queue pointer.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid source pointer for message.</p>
</li>
<li>
<p><strong>TX_WAIT_ERROR</strong> (0x04) A wait option other than TX_NO_WAIT was specified on a call from a non-thread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_37">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_37">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_37">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_QUEUE my_queue;
UINT status;
ULONG my_message[4];

/* Send a message to the front of "my_queue." Return
immediately, regardless of success. This wait
option is used for calls from initialization, timers,
and ISRs. */
status = tx_queue_front_send(&amp;my_queue, my_message,
    TX_NO_WAIT);

/* If status equals TX_SUCCESS, the message is at the front
of the specified queue. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_37">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_info_get">tx_queue_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieve information about queue</p>
</div>
<div class="sect2">
<h3 id="_prototype_38">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_info_get(
    TX_QUEUE *queue_ptr,
    CHAR **name,
    ULONG *enqueued,
    ULONG *available_storage
    TX_THREAD **first_suspended,
    ULONG *suspended_count,
    TX_QUEUE **next_queue);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_38">Description</h3>
<div class="paragraph">
<p>This service retrieves information about the specified message queue.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_38">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>queue_ptr</em>: Pointer to a previously created message queue.</p>
</li>
<li>
<p><em>name</em>: Pointer to destination for the pointer to the queue&#8217;s name.</p>
</li>
<li>
<p><em>enqueued</em>: Pointer to destination for the number of messages currently in the queue.</p>
</li>
<li>
<p><em>available_storage</em>: Pointer to destination for the number of messages the queue currently has space for.</p>
</li>
<li>
<p><em>first_suspended</em>: Pointer to destination for the pointer to the thread that is first on the suspension list of this queue.</p>
</li>
<li>
<p><em>suspended_count</em>: Pointer to destination for the number of threads currently suspended on this queue.</p>
</li>
<li>
<p><em>next_queue</em>: Pointer to destination for the pointer of the next created queue.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_38">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful queue information get.</p>
</li>
<li>
<p><strong>TX_QUEUE_ERROR</strong> (0x09) Invalid message queue pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_38">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_38">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_38">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_QUEUE my_queue;
CHAR *name;
ULONG enqueued;
ULONG available_storage;
TX_THREAD *first_suspended;
ULONG suspended_count;
TX_QUEUE *next_queue;
UINT status;

/* Retrieve information about the previously created
message queue "my_queue." */
status = tx_queue_info_get(&amp;my_queue, &amp;name,
    &amp;enqueued, &amp;available_storage,
    &amp;first_suspended, &amp;suspended_count,
    &amp;next_queue);

/* If status equals TX_SUCCESS, the information requested is
valid. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_38">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_performance_info_get">tx_queue_performance_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get queue performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_39">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_performance_info_get(
    TX_QUEUE *queue_ptr,
    ULONG *messages_sent,
    ULONG *messages_received,
    ULONG *empty_suspensions,
    ULONG *full_suspensions,
    ULONG *full_errors,
    ULONG *timeouts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_39">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about the specified queue.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <em>*TX_QUEUE_ENABLE_PERFORMANCE_INFO*: *defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_39">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>queue_ptr</em>: Pointer to previously created queue.</p>
</li>
<li>
<p><em>messages_sent</em>: Pointer to destination for the number of send requests performed on this queue.</p>
</li>
<li>
<p><em>messages_received</em>: Pointer to destination for the number of receive requests performed on this queue.</p>
</li>
<li>
<p><em>empty_suspensions</em>: Pointer to destination for the number of queue empty suspensions on this queue.</p>
</li>
<li>
<p><em>full_suspensions</em>: Pointer to destination for the number of queue full suspensions on this queue.</p>
</li>
<li>
<p><em>full_errors</em>: Pointer to destination for the number of queue full errors on this queue.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the number of thread suspension timeouts on this queue.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_39">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful queue performance get.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid queue pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_39">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_39">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_39">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_QUEUE my_queue;
ULONG messages_sent;
ULONG messages_received;
ULONG empty_suspensions;
ULONG full_suspensions;
ULONG full_errors;
ULONG timeouts;

/* Retrieve performance information on the previously created
queue. */
status = tx_queue_performance_info_get(&amp;my_queue, &amp;messages_sent,
    &amp;messages_received, &amp;empty_suspensions,
    &amp;full_suspensions, &amp;full_errors, &amp;timeouts);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_39">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_performance_system_info_get">tx_queue_performance_system_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get queue system performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_40">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_performance_system_info_get(
    ULONG *messages_sent,
    ULONG *messages_received,
    ULONG *empty_suspensions,
    ULONG *full_suspensions,
    ULONG *full_errors,
    ULONG *timeouts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_40">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about all the queues in the system.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong><em>TX_QUEUE_ENABLE_PERFORMANCE_INFO</em></strong> <em>defined for this service to return performance
information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_40">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>messages_sent</em>: Pointer to destination for the total number of send requests performed on all queues.</p>
</li>
<li>
<p><em>messages_received</em>: Pointer to destination for the total number of receive requests performed on all queues.</p>
</li>
<li>
<p><em>empty_suspensions</em>: Pointer to destination for the total number of queue empty suspensions on all queues.</p>
</li>
<li>
<p><em>full_suspensions</em>: Pointer to destination for the total number of queue full suspensions on all queues.</p>
</li>
<li>
<p><em>full_errors</em>: Pointer to destination for the total number of queue full errors on all queues.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the total number of thread suspension timeouts on all queues.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_40">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful queue system performance get.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_40">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_40">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_40">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG messages_sent;
ULONG messages_received;
ULONG empty_suspensions;
ULONG full_suspensions;
ULONG full_errors;
ULONG timeouts;

/* Retrieve performance information on all previously created
queues. */
status = tx_queue_performance_system_info_get(&amp;messages_sent,
    &amp;messages_received, &amp;empty_suspensions,
    &amp;full_suspensions, &amp;full_errors, &amp;timeouts);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_40">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_prioritize">tx_queue_prioritize</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prioritize queue suspension list</p>
</div>
<div class="sect2">
<h3 id="_prototype_41">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_prioritize(TX_QUEUE *queue_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_41">Description</h3>
<div class="paragraph">
<p>This service places the highest priority thread suspended for a message (or to place a message) on this queue at the front of the suspension list.</p>
</div>
<div class="paragraph">
<p>All other threads remain in the same FIFO order they were suspended in.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_41">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>queue_ptr</em>: Pointer to a previously created message queue.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_41">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful queue prioritize.</p>
</li>
<li>
<p><strong>TX_QUEUE_ERROR</strong> (0x09) Invalid message queue pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_41">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_41">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_41">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_QUEUE my_queue;
UINT status;

/* Ensure that the highest priority thread will receive
the next message placed on this queue. */
status = tx_queue_prioritize(&amp;my_queue);

/* If status equals TX_SUCCESS, the highest priority
suspended thread is at the front of the list. The
next tx_queue_send or tx_queue_front_send call made
to this queue will wake up this thread. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_41">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_receive">tx_queue_receive</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get message from message queue</p>
</div>
<div class="sect2">
<h3 id="_prototype_42">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_receive(
    TX_QUEUE *queue_ptr,
    VOID *destination_ptr,
    ULONG wait_option);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_42">Description</h3>
<div class="paragraph">
<p>This service retrieves a message from the specified message queue. The retrieved message is <strong>copied</strong> from the queue into the memory area specified by the destination pointer. That message is then removed from the queue.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The specified destination memory area must be large enough to hold the message; i.e., the message destination pointed to by</em> <strong><em>destination_ptr</em></strong> <em>must be at least as large as the message size for this queue. Otherwise, if the destination is not large enough, memory corruption occurs in the following memory area.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_42">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>queue_ptr</em>:<br>
Pointer to a previously created message queue.</p>
</li>
<li>
<p><em>destination_ptr</em>:<br>
Location of where to copy the message.</p>
</li>
<li>
<p><em>wait_option</em>:<br>
Defines how the service behaves if the message queue is empty. The wait options are defined as follows:</p>
<div class="ulist">
<ul>
<li>
<p><em>*TX_NO_WAIT</em>: (0x00000000) - Selecting TX_NO_WAIT results in an immediate return from this service regardless of whether or not it was successful. This is the only valid option if the service is called from a non-thread; e.g.,  Initialization, timer, or ISR.</p>
</li>
<li>
<p><strong>TX_WAIT_FOREVER</strong> (0xFFFFFFFF) - Selecting TX_WAIT_FOREVER causes the calling thread to suspend indefinitely until a message is available.</p>
</li>
<li>
<p>timeout value (0x00000001 through 0xFFFFFFFE) - Selecting a numeric value (1-0xFFFFFFFE) specifies the maximum number of timer-ticks to stay suspended while waiting for a message.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_42">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful retrieval of message.</p>
</li>
<li>
<p><strong>TX_DELETED</strong> (0x01) Message queue was deleted while thread was suspended.</p>
</li>
<li>
<p><strong>TX_QUEUE_EMPTY</strong> (0x0A) Service was unable to retrieve a message because the queue was empty for the duration of the specified time to wait.</p>
</li>
<li>
<p><strong>TX_WAIT_ABORTED</strong> (0x1A) Suspension was aborted by another thread, timer, or ISR.</p>
</li>
<li>
<p><strong>TX_QUEUE_ERROR</strong> (0x09) Invalid message queue pointer.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid destination pointer for message.</p>
</li>
<li>
<p><strong>TX_WAIT_ERROR</strong> (0x04) A wait option other than TX_NO_WAIT was specified on a call from a nonthread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_42">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_42">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_42">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_QUEUE my_queue;
UINT status;
ULONG my_message[4];

/* Retrieve a message from "my_queue." If the queue is
empty, suspend until a message is present. Note that
this suspension is only possible from application
threads. */
status = tx_queue_receive(&amp;my_queue, my_message,
    TX_WAIT_FOREVER);

/* If status equals TX_SUCCESS, the message is in
"my_message." */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_42">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_send">tx_queue_send</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Send message to message queue</p>
</div>
<div class="sect2">
<h3 id="_prototype_43">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_send(
    TX_QUEUE *queue_ptr,
    VOID *source_ptr,
    ULONG wait_option);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_43">Description</h3>
<div class="paragraph">
<p>This service sends a message to the specified message queue. The sent message is <strong>copied</strong> to the queue from the memory area specified by the source pointer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_43">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>queue_ptr</em>:<br>
Pointer to a previously created message queue.</p>
</li>
<li>
<p><em>source_ptr</em>:<br>
Pointer to the message.</p>
</li>
<li>
<p><em>wait_option</em>:<br>
Defines how the service behaves if the message queue is full. The wait options are defined as follows:</p>
<div class="ulist">
<ul>
<li>
<p><em>*TX_NO_WAIT</em>: (0x00000000) - Selecting TX_NO_WAIT results in an immediate return from this service regardless of whether or not it was successful. <em>This is the only valid option if the service is called from a non-thread; e.g., Initialization, timer, or ISR</em>.</p>
</li>
<li>
<p><strong>TX_WAIT_FOREVER</strong> (0xFFFFFFFF) - Selecting TX_WAIT_FOREVER causes the calling thread to suspend indefinitely until there is room in the queue.</p>
</li>
<li>
<p>timeout value (0x00000001 through 0xFFFFFFFE) - Selecting a numeric value (1-0xFFFFFFFE) specifies the maximum number of timer-ticks to stay suspended while waiting for room in the queue.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_43">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful sending of message.</p>
</li>
<li>
<p><strong>TX_DELETED</strong> (0x01) Message queue was deleted while thread was suspended.</p>
</li>
<li>
<p><strong>TX_QUEUE_FULL</strong> (0x0B) Service was unable to send message because the queue was full for the duration of the specified time to wait.</p>
</li>
<li>
<p><strong>TX_WAIT_ABORTED</strong> (0x1A) Suspension was aborted by another thread, timer, or ISR.</p>
</li>
<li>
<p><strong>TX_QUEUE_ERROR</strong> (0x09) Invalid message queue pointer.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid source pointer for message.</p>
</li>
<li>
<p><strong>TX_WAIT_ERROR</strong> (0x04) A wait option other than TX_NO_WAIT was specified on a call from a nonthread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_43">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_43">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_43">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_QUEUE my_queue;
UINT status;
ULONG my_message[4];

/* Send a message to "my_queue." Return immediately,
regardless of success. This wait option is used for
calls from initialization, timers, and ISRs. */
status = tx_queue_send(&amp;my_queue, my_message, TX_NO_WAIT);

/* If status equals TX_SUCCESS, the message is in the
queue. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_43">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_queue_send_notify">tx_queue_send_notify</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Notify application when message is sent to queue</p>
</div>
<div class="sect2">
<h3 id="_prototype_44">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_queue_send_notify(
    TX_QUEUE *queue_ptr,
    VOID (*queue_send_notify)(TX_QUEUE *));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_44">Description</h3>
<div class="paragraph">
<p>This service registers a notification callback function that is called whenever a message is sent to the specified queue. The processing of the notification callback is defined by the application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>The application&#8217;s queue send notification callback is not allowed to call any ThreadX API with a suspension option.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_44">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>queue_ptr</em>: Pointer to previously created queue.</p>
</li>
<li>
<p><em>queue_send_notify</em>: Pointer to application&#8217;s queue send notification function. If this value is TX_NULL, notification is disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_44">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful registration of queue send notification.</p>
</li>
<li>
<p><strong>TX_QUEUE_ERROR</strong> (0x09) Invalid queue pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was compiled with notification capabilities disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_44">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_44">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_44">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_QUEUE my_queue;
/* Register the "my_queue_send_notify" function for monitoring
messages sent to the queue "my_queue." */
status = tx_queue_send_notify(&amp;my_queue, my_queue_send_notify);

/* If status is TX_SUCCESS the queue send notification function was
successfully registered. */
void my_queue_send_notify(TX_QUEUE *queue_ptr)
{
    /* A message was just sent to this queue! */
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_44">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_queue_services">Queue Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_semaphore_ceiling_put">tx_semaphore_ceiling_put</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Place an instance in counting semaphore with ceiling</p>
</div>
<div class="sect2">
<h3 id="_prototype_45">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_semaphore_ceiling_put(
    TX_SEMAPHORE *semaphore_ptr,
    ULONG ceiling);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_45">Description</h3>
<div class="paragraph">
<p>This service puts an instance into the specified counting semaphore, which in reality increments the counting semaphore by one. If the counting semaphore&#8217;s current value is greater than or equal to the specified ceiling, the instance will not be put and a TX_CEILING_EXCEEDED error will be returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_45">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>semaphore_ptr</em>: Pointer to previously created semaphore.</p>
</li>
<li>
<p><em>ceiling</em>: Maximum limit allowed for the semaphore (valid values range from 1 through 0xFFFFFFFF).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_45">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS (0x00)</strong> Successful semaphore ceiling put.</p>
</li>
<li>
<p><strong>TX_CEILING_EXCEEDED</strong> (0x21) Put request exceeds ceiling.</p>
</li>
<li>
<p><strong>TX_INVALID_CEILING</strong> (0x22) An invalid value of zero was supplied for ceiling.</p>
</li>
<li>
<p><strong>TX_SEMAPHORE_ERROR</strong> (0x0C) Invalid semaphore pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_45">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_45">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_45">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_SEMAPHORE my_semaphore;

/* Increment the counting semaphore "my_semaphore" but make sure
that it never exceeds 7 as specified in the call. */
status = tx_semaphore_ceiling_put(&amp;my_semaphore, 7);

/* If status is TX_SUCCESS the semaphore count has been
incremented. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_45">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_semaphore_services">Semaphore Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_semaphore_create">tx_semaphore_create</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create counting semaphore</p>
</div>
<div class="sect2">
<h3 id="_prototype_46">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_semaphore_create(
    TX_SEMAPHORE *semaphore_ptr,
    CHAR *name_ptr,
    ULONG initial_count);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_46">Description</h3>
<div class="paragraph">
<p>This service creates a counting semaphore for inter-thread synchronization. The initial semaphore count is specified as an input parameter.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_46">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>semaphore_ptr</em>: Pointer to a semaphore control block.</p>
</li>
<li>
<p><em>name_ptr</em>: Pointer to the name of the semaphore.</p>
</li>
<li>
<p><em>initial_count</em>: Specifies the initial count for this semaphore. Legal values range from 0x00000000 through 0xFFFFFFFF.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_46">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful semaphore creation.</p>
</li>
<li>
<p><strong>TX_SEMAPHORE_ERROR</strong> (0x0C) Invalid semaphore pointer. Either the pointer is NULL or the semaphore is already created.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_46">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_46">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_46">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_SEMAPHORE my_semaphore;
UINT status;

/* Create a counting semaphore whose initial value is 1.
This is typically the technique used to make a binary
semaphore. Binary semaphores are used to provide
protection over a common resource. */
status = tx_semaphore_create(&amp;my_semaphore,
    "my_semaphore_name", 1);

/* If status equals TX_SUCCESS, my_semaphore is ready for
use. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_46">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_semaphore_services">Semaphore Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_semaphore_delete">tx_semaphore_delete</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delete counting semaphore</p>
</div>
<div class="sect2">
<h3 id="_prototype_47">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_semaphore_delete(TX_SEMAPHORE *semaphore_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_47">Description</h3>
<div class="paragraph">
<p>This service deletes the specified counting semaphore. All threads suspended waiting for a semaphore instance are resumed and given a TX_DELETED return status.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The application must ensure that a put notify callback for this semaphore is completed (or disabled) before deleting the semaphore. In addition, the application must prevent all future use of a deleted semaphore.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_47">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>semaphore_ptr</em>: Pointer to a previously created semaphore.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_47">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful counting semaphore deletion.</p>
</li>
<li>
<p><strong>TX_SEMAPHORE_ERROR</strong> (0x0C) Invalid counting semaphore pointer.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_47">Allowed From</h3>
<div class="paragraph">
<p>Threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_47">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_47">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_SEMAPHORE my_semaphore;
UINT status;

/* Delete counting semaphore. Assume that the counting
semaphore has already been created. */
status = tx_semaphore_delete(&amp;my_semaphore);

/* If status equals TX_SUCCESS, the counting semaphore is
deleted. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_47">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_semaphore_services">Semaphore Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_semaphore_get">tx_semaphore_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get instance from counting semaphore</p>
</div>
<div class="sect2">
<h3 id="_prototype_48">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_semaphore_get(
    TX_SEMAPHORE *semaphore_ptr,
    ULONG wait_option);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_48">Description</h3>
<div class="paragraph">
<p>This service retrieves an instance (a single count) from the specified counting semaphore. As a result, the specified semaphore&#8217;s count is decreased by one.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_48">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>semaphore_ptr</em>:<br>
Pointer to a previously created counting semaphore.</p>
</li>
<li>
<p><em>wait_option</em>:<br>
Defines how the service behaves if there are no instances of the semaphore available; i.e., the semaphore count is zero. The wait options are defined as follows:</p>
<div class="ulist">
<ul>
<li>
<p><strong>TX_NO_WAIT</strong> (0x00000000) - Selecting TX_NO_WAIT results in an immediate return from this service regardless of whether or not it was successful. <em>This is the only valid option if the service is called from a non-thread; e.g., initialization, timer, or ISR.</em></p>
</li>
<li>
<p><strong>TX_WAIT_FOREVER</strong> (0xFFFFFFFF) - Selecting TX_WAIT_FOREVER causes the calling thread to suspend indefinitely until a semaphore instance is available.</p>
</li>
<li>
<p>timeout value (0x00000001 through 0xFFFFFFFE) - Selecting a numeric value (1-0xFFFFFFFE) specifies the maximum number of timer-ticks to stay suspended while waiting for a semaphore instance.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_48">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful retrieval of a semaphore instance.</p>
</li>
<li>
<p><strong>TX_DELETED</strong> (0x01) Counting semaphore was deleted while thread was suspended.</p>
</li>
<li>
<p><strong>TX_NO_INSTANCE</strong> (0x0D) Service was unable to retrieve an instance of the counting semaphore (semaphore count is zero within the specified time to wait).</p>
</li>
<li>
<p><strong>TX_WAIT_ABORTED</strong> (0x1A) Suspension was aborted by another thread, timer, or ISR.</p>
</li>
<li>
<p><strong>TX_SEMAPHORE_ERROR</strong> (0x0C) Invalid counting semaphore pointer.</p>
</li>
<li>
<p><strong>TX_WAIT_ERROR</strong> (0x04) A wait option other than TX_NO_WAIT was specified on a call from a non-thread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_48">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_48">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_48">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_SEMAPHORE my_semaphore;
UINT status;

/* Get a semaphore instance from the semaphore
"my_semaphore." If the semaphore count is zero,
suspend until an instance becomes available.
Note that this suspension is only possible from
application threads. */
status = tx_semaphore_get(&amp;my_semaphore, TX_WAIT_FOREVER);

/* If status equals TX_SUCCESS, the thread has obtained
an instance of the semaphore. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_48">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_semaphore_services">Semaphore Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_semaphore_info_get">tx_semaphore_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieve information about semaphore</p>
</div>
<div class="sect2">
<h3 id="_prototype_49">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_semaphore_info_get(
    TX_SEMAPHORE *semaphore_ptr,
    CHAR **name, ULONG *current_value,
    TX_THREAD **first_suspended,
    ULONG *suspended_count,
    TX_SEMAPHORE **next_semaphore);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_49">Description</h3>
<div class="paragraph">
<p>This service retrieves information about the specified semaphore.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_49">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>semaphore_ptr</em>: Pointer to semaphore control block.</p>
</li>
<li>
<p><em>name</em>: Pointer to destination for the pointer to the semaphore&#8217;s name.</p>
</li>
<li>
<p><em>current_value</em>: Pointer to destination for the current semaphore&#8217;s count.</p>
</li>
<li>
<p><em>first_suspended</em>: Pointer to destination for the pointer to the thread that is first on the suspension list of this semaphore.</p>
</li>
<li>
<p><em>suspended_count</em>: Pointer to destination for the number of threads currently suspended on this semaphore.</p>
</li>
<li>
<p><em>next_semaphore</em>: Pointer to destination for the pointer of the next created semaphore.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_49">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) information retrieval.</p>
</li>
<li>
<p><strong>TX_SEMAPHORE_ERROR</strong> (0x0C) Invalid semaphore pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_49">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_49">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_49">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_SEMAPHORE my_semaphore;
CHAR *name;
ULONG current_value;
TX_THREAD *first_suspended;
ULONG suspended_count;
TX_SEMAPHORE *next_semaphore;
UINT status;

/* Retrieve information about the previously created
semaphore "my_semaphore." */
status = tx_semaphore_info_get(&amp;my_semaphore, &amp;name,
    &amp;current_value,
    &amp;first_suspended, &amp;suspended_count,
    &amp;next_semaphore);

/* If status equals TX_SUCCESS, the information requested is
valid. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_49">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_semaphore_services">Semaphore Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_semaphore_performance_info_get">tx_semaphore_performance_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get semaphore performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_50">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_semaphore_performance_info_get(
    TX_SEMAPHORE *semaphore_ptr,
    ULONG *puts,
    ULONG *gets,
    ULONG *suspensions,
    ULONG *timeouts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_50">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about the specified semaphore.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong><em>TX_SEMAPHORE_ENABLE_PERFORMANCE_INFO</em></strong> <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_50">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>*semaphore_ptr</em>: Pointer to previously created semaphore.</p>
</li>
<li>
<p><em>*puts</em>: Pointer to destination for the number of put requests performed on this semaphore.</p>
</li>
<li>
<p><em>*gets</em>: Pointer to destination for the number of get requests performed on this semaphore.</p>
</li>
<li>
<p><em>*suspensions</em>: Pointer to destination for the number of thread suspensions on this semaphore.</p>
</li>
<li>
<p><em>*timeouts</em>: Pointer to destination for the number of thread suspension timeouts on this semaphore.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_50">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful semaphore performance get.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid semaphore pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_50">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_50">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_50">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_SEMAPHORE my_semaphore;
ULONG puts;
ULONG gets;
ULONG suspensions;
ULONG timeouts;

/* Retrieve performance information on the previously created
semaphore. */
status = tx_semaphore_performance_info_get(&amp;my_semaphore, &amp;puts,
    &amp;gets, &amp;suspensions, &amp;timeouts);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_50">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_semaphore_services">Semaphore Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_semaphore_performance_system_info_get">tx_semaphore_performance_system_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get semaphore system performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_51">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_semaphore_performance_system_info_get(
    ULONG *puts,
    ULONG *gets,
    ULONG *suspensions,
    ULONG *timeouts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_51">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about all the semaphores in the system.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong><em>TX_SEMAPHORE_ENABLE_PERFORMANCE_INFO</em></strong> <em>defined for this service to return performance information</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_51">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>puts</em>: Pointer to destination for the total number of put requests performed on all semaphores.</p>
</li>
<li>
<p><em>gets</em>: Pointer to destination for the total number of get requests performed on all semaphores.</p>
</li>
<li>
<p><em>suspensions</em>: Pointer to destination for the total number of thread suspensions on all semaphores.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the total number of thread suspension timeouts on all semaphores.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_51">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) system performance get.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_51">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_51">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_51">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG puts;
ULONG gets;
ULONG suspensions;
ULONG timeouts;

/* Retrieve performance information on all previously created
semaphores. */
status = tx_semaphore_performance_system_info_get(&amp;puts, &amp;gets,
    &amp;suspensions, &amp;timeouts);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_51">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_semaphore_services">Semaphore Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_semaphore_prioritize">tx_semaphore_prioritize</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prioritize semaphore suspension list</p>
</div>
<div class="sect2">
<h3 id="_prototype_52">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_semaphore_prioritize(TX_SEMAPHORE *semaphore_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_52">Description</h3>
<div class="paragraph">
<p>This service places the highest priority thread suspended for an instance of the semaphore at the front of the suspension list. All other threads remain in the same FIFO order they were suspended in.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_52">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>semaphore_ptr</em>: Pointer to a previously created semaphore.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_52">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful semaphore prioritize.</p>
</li>
<li>
<p><strong>TX_SEMAPHORE_ERROR</strong> (0x0C) Invalid counting semaphore pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_52">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_52">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_52">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_SEMAPHORE my_semaphore;
UINT status;

/* Ensure that the highest priority thread will receive
the next instance of this semaphore. */
status = tx_semaphore_prioritize(&amp;my_semaphore);

/* If status equals TX_SUCCESS, the highest priority
suspended thread is at the front of the list. The
next tx_semaphore_put call made to this semaphore will
wake up this thread. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_52">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_semaphore_services">Semaphore Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_semaphore_put">tx_semaphore_put</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Place an instance in counting semaphore</p>
</div>
<div class="sect2">
<h3 id="_prototype_53">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_semaphore_put(TX_SEMAPHORE *semaphore_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_53">Description</h3>
<div class="paragraph">
<p>This service puts an instance into the specified counting semaphore, which in reality increments the counting semaphore by one.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>If this service is called when the semaphore is all ones (OxFFFFFFFF), the new put operation will cause the semaphore to be reset to zero.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_53">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>semaphore_ptr</em>: Pointer to the previously created counting semaphore control block.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_53">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful semaphore put.</p>
</li>
<li>
<p><strong>TX_SEMAPHORE_ERROR</strong> (0x0C) Invalid pointer to counting semaphore.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_53">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_53">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_53">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_SEMAPHORE my_semaphore;
UINT status;

/* Increment the counting semaphore "my_semaphore." */
status = tx_semaphore_put(&amp;my_semaphore);

/* If status equals TX_SUCCESS, the semaphore count has
been incremented. Of course, if a thread was waiting,
it was given the semaphore instance and resumed. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_53">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_semaphore_services">Semaphore Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_semaphore_put_notify">tx_semaphore_put_notify</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Notify application when semaphore is put</p>
</div>
<div class="sect2">
<h3 id="_prototype_54">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_semaphore_put_notify(
    TX_SEMAPHORE *semaphore_ptr,
    VOID (*semaphore_put_notify)(TX_SEMAPHORE *));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_54">Description</h3>
<div class="paragraph">
<p>This service registers a notification callback function that is called whenever the specified semaphore is put. The processing of the notification callback is defined by the application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>The application&#8217;s semaphore notification callback is not allowed to call any ThreadX API with a suspension option.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_54">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>semaphore_ptr</em>: Pointer to previously created semaphore.</p>
</li>
<li>
<p><em>semaphore_put_notify</em>: Pointer to application&#8217;s semaphore put notification function. If this value is TX_NULL, notification is disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_54">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful registration of semaphore put notification.</p>
</li>
<li>
<p><strong>TX_SEMAPHORE_ERROR</strong> (0x0C) Invalid semaphore pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was compiled with notification capabilities disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_54">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_54">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_54">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_SEMAPHORE my_semaphore;

/* Register the "my_semaphore_put_notify" function for monitoring
the put operations on the semaphore "my_semaphore." */
status = tx_semaphore_put_notify(&amp;my_semaphore, my_semaphore_put_notify);

/* If status is TX_SUCCESS the semaphore put notification function
was successfully registered. */
void my_semaphore_put_notify(TX_SEMAPHORE *semaphore_ptr)
{
    /* The semaphore was just put! */
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_54">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_semaphore_services">Semaphore Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_create">tx_thread_create</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create application thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_55">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_create(
    TX_THREAD *thread_ptr,
    CHAR *name_ptr,
    VOID (*entry_function)(ULONG),
    ULONG entry_input,
    VOID *stack_start,
    ULONG stack_size,
    UINT priority,
    UINT preempt_threshold,
    ULONG time_slice,
    UINT auto_start);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_55">Description</h3>
<div class="paragraph">
<p>This service creates an application thread that starts execution at the specified task entry function. The stack, priority, preemption-threshold, and time-slice are among the attributes specified by the input parameters. In addition, the initial execution state of the thread is also specified.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_55">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to a thread control block.</p>
</li>
<li>
<p><em>name_ptr</em>: Pointer to the name of the thread.</p>
</li>
<li>
<p><em>entry_function</em>: Specifies the initial C function for thread execution. When a thread returns from this entry function, it is placed in a <em>completed</em> state and suspended indefinitely.</p>
</li>
<li>
<p><em>entry_input</em>: A 32-bit value that is passed to the thread&#8217;s entry function when it first executes. The use for this input is determined exclusively by the application.</p>
</li>
<li>
<p><em>stack_start</em>: Starting address of the stack&#8217;s memory area.</p>
</li>
<li>
<p><em>stack_size</em>: Number bytes in the stack memory area. The thread&#8217;s stack area must be large enough to handle its worst-case function call nesting and local variable usage.</p>
</li>
<li>
<p><em>priority</em>: Numerical priority of thread. Legal values range from 0 through (TX_MAX_PRIORITIES-1), where a value of 0 represents the highest priority.</p>
</li>
<li>
<p><em>preempt_threshold</em>: Highest priority level (0 through (TX_MAX_PRIORITIES-1)) of disabled preemption. Only priorities higher than this level are allowed to preempt this thread. This value must be less than or equal to the specified priority. A value equal to the thread priority disables preemption-threshold.</p>
</li>
<li>
<p><em>time_slice</em>: Number of timer-ticks this thread is allowed to run before other ready threads of the same priority are given a chance to run. Note that using preemption-threshold disables time-slicing. Legal time-slice values range from 1 to 0xFFFFFFFF (inclusive). A value of <strong>TX_NO_TIME_SLICE</strong> (a value of 0) disables time-slicing of this thread.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Using time-slicing results in a slight amount of system overhead.   Since time-slicing is only useful in cases where multiple threads   share the same priority, threads having a unique priority should not   be assigned a time-slice.</em>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><em>auto_start</em>: Specifies whether the thread starts immediately or is placed in a suspended state. Legal options are <strong>TX_AUTO_START</strong> (0x01) and <strong>TX_DONT_START</strong> (0x00). If TX_DONT_START is specified, the application must later call tx_thread_resume in order for the thread to run.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_55">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread creation.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid thread control pointer. Either the pointer is NULL or the thread is already created.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid starting address of the entry point or the stack area is invalid, usually NULL.</p>
</li>
<li>
<p><strong>TX_SIZE_ERROR</strong> (0x05) Size of stack area is invalid. Threads must have at least <strong>TX_MINIMUM_STACK</strong> bytes to execute.</p>
</li>
<li>
<p><strong>TX_PRIORITY_ERROR</strong> (0x0F) Invalid thread priority, which is a value outside the range of (0 through (TX_MAX_PRIORITIES-1)).</p>
</li>
<li>
<p><strong>TX_THRESH_ERROR</strong> (0x18) Invalid preemption threshold specified. This value must be a valid priority less than or equal to the initial priority of the thread.</p>
</li>
<li>
<p><strong>TX_START_ERROR</strong> (0x10) Invalid auto-start selection.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_55">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_55">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_55">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
UINT status;

/* Create a thread of priority 15 whose entry point is
"my_thread_entry". This thread's stack area is 1000
bytes in size, starting at address 0x400000. The
preemption-threshold is setup to allow preemption of threads
with priorities ranging from 0 through 14. Time-slicing is
disabled. This thread is automatically put into a ready
condition. */
status = tx_thread_create(&amp;my_thread, "my_thread_name",
    my_thread_entry, 0x1234,
    (VOID *) 0x400000, 1000,
    15, 15, TX_NO_TIME_SLICE,
    TX_AUTO_START);

/* If status equals TX_SUCCESS, my_thread is ready
for execution! */

...

/* Thread's entry function. When "my_thread" actually
begins execution, control is transferred to this
function. */

VOID my_thread_entry (ULONG initial_input)
{
    /* When we get here, the value of initial_input is
    0x1234. See how this was specified during
    creation. */
    /* The real work of the thread, including calls to
    other function should be called from here! */
    /* When this function returns, the corresponding
    thread is placed into a "completed" state. */
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_55">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_delete">tx_thread_delete</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delete application thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_56">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_delete(TX_THREAD *thread_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_56">Description</h3>
<div class="paragraph">
<p>This service deletes the specified application thread. Since the specified thread must be in a terminated or completed state, this service cannot be called from a thread attempting to delete itself.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>It is the application&#8217;s responsibility to manage the memory area associated with the thread&#8217;s stack, which is available after this service completes. In addition, the application must prevent use of a deleted thread.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_56">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to a previously created application thread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_56">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread deletion.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid application thread pointer.</p>
</li>
<li>
<p><strong>TX_DELETE_ERROR</strong> (0x11) Specified thread is not in a terminated or completed state.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_56">Allowed From</h3>
<div class="paragraph">
<p>Threads and timers</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_56">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_56">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
UINT status;

/* Delete an application thread whose control block is
"my_thread". Assume that the thread has already been
created with a call to tx_thread_create. */
status = tx_thread_delete(&amp;my_thread);

/* If status equals TX_SUCCESS, the application thread is
deleted. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_56">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_entry_exit_notify">tx_thread_entry_exit_notify</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Notify application upon thread entry and exit</p>
</div>
<div class="sect2">
<h3 id="_prototype_57">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_entry_exit_notify(
    TX_THREAD *thread_ptr,
    VOID (*entry_exit_notify)(TX_THREAD *, UINT));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_57">Description</h3>
<div class="paragraph">
<p>This service registers a notification callback function that is called whenever the specified thread is entered or exits. The processing of the notification callback is defined by the application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The application&#8217;s thread entry/exit notification callback is not allowed to call any ThreadX API with a suspension option.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_57">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to previously created thread.</p>
</li>
<li>
<p><em>entry_exit_notify</em>: Pointer to application&#8217;s thread entry/exit notification function. The second parameter to the entry/exit notification function designates if an entry or exit is present. The value <strong>TX_THREAD_ENTRY</strong> (0x00) indicates the thread was entered, while the value <strong>TX_THREAD_EXIT</strong> (0x01) indicates the thread was exited. If this value is <strong>TX_NULL</strong>, notification is disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_57">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful registration of the thread entry/exit notification function.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid thread pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was compiled with notification capabilities disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_57">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_57">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_57">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
/* Register the "my_entry_exit_notify" function for monitoring
the entry/exit of the thread "my_thread." */
status = tx_thread_entry_exit_notify(&amp;my_thread,
    my_entry_exit_notify);

/* If status is TX_SUCCESS the entry/exit notification function was
successfully registered. */
void my_entry_exit_notify(TX_THREAD *thread_ptr, UINT condition)
{
    /* Determine if the thread was entered or exited. */
    if (condition == TX_THREAD_ENTRY)
        /* Thread entry! */
    else if (condition == TX_THREAD_EXIT)
        /* Thread exit! */
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_57">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_identify">tx_thread_identify</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieves pointer to currently executing thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_58">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD* tx_thread_identify(VOID);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_58">Description</h3>
<div class="paragraph">
<p>This service returns a pointer to the currently executing thread. If no thread is executing, this service returns a null pointer.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>If this service is called from an ISR, the return value represents the thread running prior to the executing interrupt handler.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_58">Parameters</h3>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_58">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread pointer</em>: Pointer to the currently executing thread. If no thread is executing, the return value is <strong>TX_NULL</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_58">Allowed From</h3>
<div class="paragraph">
<p>Threads and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_58">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_58">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD *my_thread_ptr;

/* Find out who we are! */
my_thread_ptr = tx_thread_identify();

/* If my_thread_ptr is non-null, we are currently executing
from that thread or an ISR that interrupted that thread.
Otherwise, this service was called
from an ISR when no thread was running when the
interrupt occurred. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_58">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_info_get">tx_thread_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieve information about thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_59">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_info_get(
    TX_THREAD *thread_ptr,
    CHAR **name,
    UINT *state,
    ULONG *run_count,
    UINT *priority,
    UINT *preemption_threshold,
    ULONG *time_slice,
    TX_THREAD **next_thread,
    TX_THREAD **suspended_thread);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_59">Description</h3>
<div class="paragraph">
<p>This service retrieves information about the specified thread.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_59">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to thread control block.</p>
</li>
<li>
<p><em>name</em>: Pointer to destination for the pointer to the thread&#8217;s name.</p>
</li>
<li>
<p><em>state</em>: Pointer to destination for the thread&#8217;s current execution state. Possible values are as follows.</p>
<div class="ulist">
<ul>
<li>
<p><strong>TX_READY</strong> (0x00)</p>
</li>
<li>
<p><strong>TX_COMPLETED</strong> (0x01)</p>
</li>
<li>
<p><strong>TX_TERMINATED</strong> (0x02)</p>
</li>
<li>
<p><strong>TX_SUSPENDED</strong> (0x03)</p>
</li>
<li>
<p><strong>TX_SLEEP</strong> (0x04)</p>
</li>
<li>
<p><strong>TX_QUEUE_SUSP</strong> (0x05)</p>
</li>
<li>
<p><strong>TX_SEMAPHORE_SUSP</strong> (0x06)</p>
</li>
<li>
<p><strong>TX_EVENT_FLAG</strong> (0x07)</p>
</li>
<li>
<p><strong>TX_BLOCK_MEMORY</strong> (0x08)</p>
</li>
<li>
<p><strong>TX_BYTE_MEMORY</strong> (0x09)</p>
</li>
<li>
<p><strong>TX_MUTEX_SUSP</strong> (0x0D)</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>run_count</em>: Pointer to destination for the thread&#8217;s run count.</p>
</li>
<li>
<p><em>priority</em>: Pointer to destination for the thread&#8217;s priority.</p>
</li>
<li>
<p><em>preemption_threshold</em>: Pointer to destination for the thread&#8217;s preemption-threshold.</p>
</li>
<li>
<p><em>time_slice</em>: Pointer to destination for the thread&#8217;s time-slice.</p>
</li>
<li>
<p><em>next_thread</em>: Pointer to destination for next created thread pointer.</p>
</li>
<li>
<p><em>suspended_thread</em>: Pointer to destination for pointer to next
thread in suspension list.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_59">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread information retrieval.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid thread control pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_59">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_59">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_59">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
CHAR *name;
UINT state;
ULONG run_count;
UINT priority;
UINT preemption_threshold;
UINT time_slice;
TX_THREAD *next_thread;
TX_THREAD *suspended_thread;
UINT status;

/* Retrieve information about the previously created
thread "my_thread." */

status = tx_thread_info_get(&amp;my_thread, &amp;name,
    &amp;state, &amp;run_count,
    &amp;priority, &amp;preemption_threshold,
    &amp;time_slice, &amp;next_thread,&amp;suspended_thread);

/* If status equals TX_SUCCESS, the information requested is
valid. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_59">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_performance_info_get">tx_thread_performance_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get thread performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_60">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_performance_info_get(
    TX_THREAD *thread_ptr,
    LONG *resumptions,
    ULONG *suspensions,
    ULONG *solicited_preemptions,
    ULONG *interrupt_preemptions,
    ULONG *priority_inversions,
    ULONG *time_slices,
    ULONG *relinquishes,
    ULONG *timeouts,
    ULONG *wait_aborts,
    TX_THREAD **last_preempted_by);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_60">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about the specified thread.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong><em>TX_THREAD_ENABLE_PERFORMANCE_INFO</em></strong> <em>defined in order for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_60">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to previously created thread.</p>
</li>
<li>
<p><em>resumptions</em>: Pointer to destination for the number of resumptions of this thread.</p>
</li>
<li>
<p><em>suspensions</em>: Pointer to destination for the number of suspensions of this thread.</p>
</li>
<li>
<p><em>solicited_preemptions</em>: Pointer to destination for the number of preemptions as a result of a ThreadX API service call made by this thread.</p>
</li>
<li>
<p><em>interrupt_preemptions</em>: Pointer to destination for the number of preemptions of this thread as a result of interrupt processing.</p>
</li>
<li>
<p><em>priority_inversions</em>: Pointer to destination for the number of priority inversions of this thread.</p>
</li>
<li>
<p><em>time_slices</em>: Pointer to destination for the number of time-slices of this thread.</p>
</li>
<li>
<p><em>relinquishes</em>: Pointer to destination for the number of thread relinquishes performed by this thread.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the number of suspension timeouts on this thread.</p>
</li>
<li>
<p><em>wait_aborts</em>: Pointer to destination for the number of wait aborts performed on this thread.</p>
</li>
<li>
<p><em>last_preempted_by</em>: Pointer to destination for the thread pointer that last preempted this thread.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_60">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread performance get.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid thread pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_60">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_60">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_60">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
ULONG resumptions;
ULONG suspensions;
ULONG solicited_preemptions;
ULONG interrupt_preemptions;
ULONG priority_inversions;
ULONG time_slices;
ULONG relinquishes;
ULONG timeouts;
ULONG wait_aborts;
TX_THREAD *last_preempted_by;

/* Retrieve performance information on the previously created
thread. */

status = tx_thread_performance_info_get(&amp;my_thread, &amp;resumptions,
    &amp;suspensions,
    &amp;solicited_preemptions, &amp;interrupt_preemptions,
    &amp;priority_inversions, &amp;time_slices,
    &amp;relinquishes, &amp;timeouts,
    &amp;wait_aborts, &amp;last_preempted_by);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_60">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_performance_system_info_get">tx_thread_performance_system_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get thread system performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_61">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_performance_system_info_get(
    ULONG *resumptions,
    ULONG *suspensions,
    ULONG *solicited_preemptions,
    ULONG *interrupt_preemptions,
    ULONG *priority_inversions,
    ULONG *time_slices,
    ULONG *relinquishes,
    ULONG *timeouts,
    ULONG *wait_aborts,
    ULONG *non_idle_returns,
    ULONG *idle_returns);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_61">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about all the threads
in the system.</p>
</div>
<div class="paragraph">
<p><em>The ThreadX library and application must be built with</em></p>
</div>
<div class="paragraph">
<p><strong><em>TX_THREAD_ENABLE_PERFORMANCE_INFO</em></strong> <em>defined in order for this service to return performance information.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_61">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>resumptions</em>: Pointer to destination for the total number of thread resumptions.</p>
</li>
<li>
<p><em>suspensions</em>: Pointer to destination for the total number of thread suspensions.</p>
</li>
<li>
<p><em>solicited_preemptions</em>: Pointer to destination for the total number of thread preemptions as a result of a thread calling a ThreadX API service.</p>
</li>
<li>
<p><em>interrupt_preemptions</em>: Pointer to destination for the total number of thread preemptions as a result of interrupt processing.</p>
</li>
<li>
<p><em>priority_inversions</em>: Pointer to destination for the total number of thread priority inversions.</p>
</li>
<li>
<p><em>time_slices</em>: Pointer to destination for the total number of thread time-slices.</p>
</li>
<li>
<p><em>relinquishes</em>: Pointer to destination for the total number of thread relinquishes.</p>
</li>
<li>
<p><em>timeouts</em>: Pointer to destination for the total number of thread suspension timeouts.</p>
</li>
<li>
<p><em>wait_aborts</em>: Pointer to destination for the total number of thread wait aborts.</p>
</li>
<li>
<p><em>non_idle_returns</em>: Pointer to destination for the number of times a thread returns to the system when another thread is ready to execute.</p>
</li>
<li>
<p><em>idle_returns</em>: Pointer to destination for the number of times a thread returns to the system when no other thread is ready to execute (idle system).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a <strong>TX_NULL</strong> for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_61">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread system performance get.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_61">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_61">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_61">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG resumptions;
ULONG suspensions;
ULONG solicited_preemptions;
ULONG interrupt_preemptions;
ULONG priority_inversions;
ULONG time_slices;
ULONG relinquishes;
ULONG timeouts;
ULONG wait_aborts;
ULONG non_idle_returns;
ULONG idle_returns;

/* Retrieve performance information on all previously created
thread. */

status = tx_thread_performance_system_info_get(&amp;resumptions,
    &amp;suspensions,
    &amp;solicited_preemptions, &amp;interrupt_preemptions,
    &amp;priority_inversions, &amp;time_slices, &amp;relinquishes,
    &amp;timeouts, &amp;wait_aborts, &amp;non_idle_returns,
    &amp;idle_returns);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_61">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_preemption_change">tx_thread_preemption_change</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Change preemption-threshold of application thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_62">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_preemption_change(
    TX_THREAD *thread_ptr,
    UINT new_threshold,
    UINT *old_threshold);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_62">Description</h3>
<div class="paragraph">
<p>This service changes the preemption-threshold of the specified thread. The preemption-threshold prevents preemption of the specified thread by threads equal to or less than the preemption-threshold value.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Using preemption-threshold disables time-slicing for the specified thread.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_62">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to a previously created application thread.</p>
</li>
<li>
<p><em>new_threshold</em>: New preemption-threshold priority level (0 through (TX_MAX_PRIORITIES-1)).</p>
</li>
<li>
<p><em>old_threshold</em>: Pointer to a location to return the previous preemption-threshold.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_62">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful preemption-threshold change.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid application thread pointer.</p>
</li>
<li>
<p><strong>TX_THRESH_ERROR</strong> (0x18) Specified new preemption-threshold is not a valid thread priority (a value other than (0 through (<strong>TX_MAX_PRIORITIES</strong>-1)) or is greater than (lower priority) than the current thread priority.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid pointer to previous preemption threshold storage location.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_62">Allowed From</h3>
<div class="paragraph">
<p>Threads and timers</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_62">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_62">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
UINT my_old_threshold;
UINT status;

/* Disable all preemption of the specified thread. The
current preemption-threshold is returned in
"my_old_threshold". Assume that "my_thread" has
already been created. */

status = tx_thread_preemption_change(&amp;my_thread,
    0, &amp;my_old_threshold);

/* If status equals TX_SUCCESS, the application thread is
non-preemptable by another thread. Note that ISRs are
not prevented by preemption disabling. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_62">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_priority_change">tx_thread_priority_change</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Change priority of application thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_63">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_priority_change(
    TX_THREAD *thread_ptr,
    UINT new_priority,
    UINT *old_priority);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_63">Description</h3>
<div class="paragraph">
<p>This service changes the priority of the specified thread. Valid priorities range from 0 through (TX_MAX_PRIORITIES-1), where 0 represents the highest priority level.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The preemption-threshold of the specified thread is automatically set to the new priority. If a new threshold is desired, the <strong>*tx_thread_preemption_change*</em> service must be used after this call.</strong>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_63">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to a previously created application thread.</p>
</li>
<li>
<p><em>new_priority</em>: New thread priority level (0 through (TX_MAX_PRIORITIES-1)).</p>
</li>
<li>
<p><em>old_priority</em>: Pointer to a location to return the thread&#8217;s previous priority.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_63">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful priority change.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid application thread pointer.</p>
</li>
<li>
<p><strong>TX_PRIORITY_ERROR</strong> (0x0F) Specified new priority is not valid (a value other than (0 through (TX_MAX_PRIORITIES-1)).</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid pointer to previous priority storage location.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_63">Allowed From</h3>
<div class="paragraph">
<p>Threads and timers</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_63">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_63">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
UINT my_old_priority;
UINT status;

/* Change the thread represented by "my_thread" to priority
0. */

status = tx_thread_priority_change(&amp;my_thread,
    0, &amp;my_old_priority);

/* If status equals TX_SUCCESS, the application thread is
now at the highest priority level in the system. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_63">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_relinquish">tx_thread_relinquish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Relinquish control to other application threads</p>
</div>
<div class="sect2">
<h3 id="_prototype_64">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">VOID tx_thread_relinquish(VOID);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_64">Description</h3>
<div class="paragraph">
<p>This service relinquishes processor control to other ready-to-run threads at the same or higher priority.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>In addition to relinquishing control to threads of the same priority, this service also relinquishes control to the highest-priority thread prevented from execution because of the current thread&#8217;s preemption-threshold setting.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_64">Parameters</h3>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_64">Return Values</h3>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_64">Allowed From</h3>
<div class="paragraph">
<p>Threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_64">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_64">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG run_counter_1 = 0;
ULONG run_counter_2 = 0;

/* Example of two threads relinquishing control to
each other in an infinite loop. Assume that
both of these threads are ready and have the same
priority. The run counters will always stay within one
of each other. */

VOID my_first_thread(ULONG thread_input)
{
    /* Endless loop of relinquish. */
    while(1)
    {
        /* Increment the run counter. */
        run_counter_1++;

        /* Relinquish control to other thread. */
        tx_thread_relinquish();
    }
}

VOID my_second_thread(ULONG thread_input)
{

    /* Endless loop of relinquish. */
    while(1)
    {
        /* Increment the run counter. */
        run_counter_2++;

        /* Relinquish control to other thread. */
        tx_thread_relinquish();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_64">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_reset">tx_thread_reset</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Reset thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_65">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_reset(TX_THREAD *thread_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_65">Description</h3>
<div class="paragraph">
<p>This service resets the specified thread to execute at the entry point defined at thread creation. The thread must be in either a <strong>TX_COMPLETED</strong> or <strong>TX_TERMINATED</strong> state for it to be reset</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The thread must be resumed for it to execute again.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_65">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to a previously created thread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_65">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread reset.</p>
</li>
<li>
<p><strong>TX_NOT_DONE</strong> (0x20) Specified thread is not in a <strong>TX_COMPLETED</strong> or <strong>TX_TERMINATED</strong> state.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid thread pointer.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_65">Allowed From</h3>
<div class="paragraph">
<p>Threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_65">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_65">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;

/* Reset the previously created thread "my_thread." */

status = tx_thread_reset(&amp;my_thread);

/* If status is TX_SUCCESS the thread is reset. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_65">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_resume">tx_thread_resume</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Resume suspended application thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_66">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_resume(TX_THREAD *thread_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_66">Description</h3>
<div class="paragraph">
<p>This service resumes or prepares for execution a thread that was previously suspended by a <strong><em>tx_thread_suspend</em></strong> call. In addition, this service resumes threads that were created without an automatic start.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_66">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to a suspended application thread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_66">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread resume.</p>
</li>
<li>
<p><strong>TX_SUSPEND_LIFTED</strong> (0x19) Previously set delayed suspension was lifted.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid application thread pointer.</p>
</li>
<li>
<p><strong>TX_RESUME_ERROR</strong> (0x12) Specified thread is not suspended or was previously suspended by a service other than <strong><em>tx_thread_suspend</em></strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_66">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_66">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_66">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
UINT status;

/* Resume the thread represented by "my_thread". */
status = tx_thread_resume(&amp;my_thread);

/* If status equals TX_SUCCESS, the application thread is
now ready to execute. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_66">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_sleep">tx_thread_sleep</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Suspend current thread for specified time</p>
</div>
<div class="sect2">
<h3 id="_prototype_67">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_sleep(ULONG timer_ticks);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_67">Description</h3>
<div class="paragraph">
<p>This service causes the calling thread to suspend for the specified number of timer ticks. The amount of physical time associated with a timer tick is application specific. This service can be called only from an application thread.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_67">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>timer_ticks</em>: The number of timer ticks to suspend the calling application thread, ranging from 0 through 0xFFFFFFFF. If 0 is specified, the service returns immediately.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_67">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread sleep.</p>
</li>
<li>
<p><strong>TX_WAIT_ABORTED</strong> (0x1A) Suspension was aborted by another thread, timer, or ISR.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Service called from a non-thread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_67">Allowed From</h3>
<div class="paragraph">
<p>Threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_67">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_67">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT status;

/* Make the calling thread sleep for 100
timer-ticks. */
status = tx_thread_sleep(100);

/* If status equals TX_SUCCESS, the currently running
application thread slept for the specified number of
timer-ticks. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_67">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_stack_error_notify">tx_thread_stack_error_notify</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Register thread stack error notification callback</p>
</div>
<div class="sect2">
<h3 id="_prototype_68">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_stack_error_notify(VOID (*error_handler)(TX_THREAD *));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_68">Description</h3>
<div class="paragraph">
<p>This service registers a notification callback function for handling thread stack errors. When ThreadX detects a thread stack error during execution, it will call this notification function to process the error. Processing of the error is completely defined by the application. Anything from suspending the violating thread to resetting the entire system may be done.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library must be built with</em> <strong>TX_ENABLE_STACK_CHECKING</strong> <em>defined in order for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_68">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>error_handler</em>: Pointer to application&#8217;s stack error handling function. If this value is TX_NULL, the notification is disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_68">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread reset.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_68">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_68">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_68">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">void my_stack_error_handler(TX_THREAD *thread_ptr);

/* Register the "my_stack_error_handler" function with ThreadX
so that thread stack errors can be handled by the application. */
status = tx_thread_stack_error_notify(my_stack_error_handler);

/* If status is TX_SUCCESS the stack error handler is registered.*/</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_68">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_suspend">tx_thread_suspend</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Suspend application thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_69">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_suspend(TX_THREAD *thread_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_69">Description</h3>
<div class="paragraph">
<p>This service suspends the specified application thread. A thread may call this service to suspend itself.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>If the specified thread is already suspended for another reason, this suspension is held internally until the prior suspension is lifted. When that happens, this unconditional suspension of the specified thread is performed. Further unconditional suspension requests have no effect.</em>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After being suspended, the thread must be resumed by <strong><em>tx_thread_resume</em></strong> to execute again.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_69">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to an application thread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_69">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread suspend.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid application thread pointer.</p>
</li>
<li>
<p><strong>TX_SUSPEND_ERROR</strong> (0x14) Specified thread is in a terminated or completed state.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_69">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_69">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_69">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
UINT status;

/* Suspend the thread represented by "my_thread". */
status = tx_thread_suspend(&amp;my_thread);

/* If status equals TX_SUCCESS, the application thread is
unconditionally suspended. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_69">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_terminate">tx_thread_terminate</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Terminates application thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_70">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_terminate(TX_THREAD *thread_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_70">Description</h3>
<div class="paragraph">
<p>This service terminates the specified application thread regardless of whether the thread is suspended or not. A thread may call this service to terminate itself.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>It is the application&#8217;s responsibility to ensure that the thread is in a state suitable for termination. For example, a thread should not be terminated during critical application processing or inside of other middleware components where it could leave such processing in an unknown state.</em>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>After being terminated, the thread must be reset for it to execute again.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_70">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to application thread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_70">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread terminate.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid application thread pointer.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_70">Allowed From</h3>
<div class="paragraph">
<p>Threads and timers</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_70">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_70">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
UINT status;

/* Terminate the thread represented by "my_thread". */
status = tx_thread_terminate(&amp;my_thread);

/* If status equals TX_SUCCESS, the thread is terminated
and cannot execute again until it is reset. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_70">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_time_slice_change">tx_thread_time_slice_change</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Changes time-slice of application thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_71">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_time_slice_change(
    TX_THREAD *thread_ptr,
    ULONG new_time_slice,
    ULONG *old_time_slice);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_71">Description</h3>
<div class="paragraph">
<p>This service changes the time-slice of the specified application thread. Selecting a time-slice for a thread insures that it won&#8217;t execute more than the specified number of timer ticks before other threads of the same or higher priorities have a chance to execute.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Using preemption-threshold disables time-slicing for the specified thread.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_71">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to application thread.</p>
</li>
<li>
<p><em>new_time_slice</em>: New time slice value. Legal values include TX_NO_TIME_SLICE and numeric values from 1 through 0xFFFFFFFF.</p>
</li>
<li>
<p><em>old_time_slice</em>: Pointer to location for storing the previous timeslice value of the specified thread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_71">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful time-slice chance.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid application thread pointer.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid pointer to previous time-slice storage location.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_71">Allowed From</h3>
<div class="paragraph">
<p>Threads and timers</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_71">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_71">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
ULONG my_old_time_slice;
UINT status;

/* Change the time-slice of the thread associated with
"my_thread" to 20. This will mean that "my_thread"
can only run for 20 timer-ticks consecutively before
other threads of equal or higher priority get a chance
to run. */
status = tx_thread_time_slice_change(&amp;my_thread, 20,
    &amp;my_old_time_slice);

/* If status equals TX_SUCCESS, the thread's time-slice
has been changed to 20 and the previous time-slice is
in "my_old_time_slice." */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_71">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_thread_wait_abort">tx_thread_wait_abort</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Abort suspension of specified thread</p>
</div>
<div class="sect2">
<h3 id="_prototype_72">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_thread_wait_abort(TX_THREAD *thread_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_72">Description</h3>
<div class="paragraph">
<p>This service aborts sleep or any other object suspension of the specified thread. If the wait is aborted, a <strong>TX_WAIT_ABORTED</strong> value is returned from the service that the thread was waiting on.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>This service does not release explicit suspension that is made by the tx_thread_suspend service.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_72">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>thread_ptr</em>: Pointer to a previously created application thread.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_72">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful thread wait abort.</p>
</li>
<li>
<p><strong>TX_THREAD_ERROR</strong> (0x0E) Invalid application thread pointer.</p>
</li>
<li>
<p><strong>TX_WAIT_ABORT_ERROR</strong> (0x1B) Specified thread is not in a waiting state.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_72">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_72">Preemption Possible</h3>
<div class="paragraph">
<p>Yes</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_72">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_THREAD my_thread;
UINT status;

/* Abort the suspension condition of "my_thread." */
status = tx_thread_wait_abort(&amp;my_thread);

/* If status equals TX_SUCCESS, the thread is now ready
again, with a return value showing its suspension
was aborted (TX_WAIT_ABORTED). */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_72">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_thread_services">Thread Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_time_get">tx_time_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieves the current time</p>
</div>
<div class="paragraph">
<p>Application Timers</p>
</div>
<div class="sect2">
<h3 id="_prototype_73">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG tx_time_get(VOID);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_73">Description</h3>
<div class="paragraph">
<p>This service returns the contents of the internal system clock. Each timertick increases the internal system clock by one. The system clock is set to zero during initialization and can be changed to a specific value by the service <strong><em>tx_time_set</em></strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>The actual time each timer-tick represents is application specific.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_73">Parameters</h3>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_73">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>system clock ticks</strong>* Value of the internal, free running, system clock.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_73">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_73">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_73">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG current_time;

/* Pickup the current system time, in timer-ticks. */
current_time = tx_time_get();

/* Current time now contains a copy of the internal system
clock. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_73">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_time_services">Time Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_time_set">tx_time_set</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sets the current time</p>
</div>
<div class="sect2">
<h3 id="_prototype_74">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">VOID tx_time_set(ULONG new_time);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_74">Description</h3>
<div class="paragraph">
<p>This service sets the internal system clock to the specified value. Each timer-tick increases the internal system clock by one.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>The actual time each timer-tick represents is application specific.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_74">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>new_time</em>: New time to put in the system clock, legal values range from 0 through 0xFFFFFFFF.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_74">Return Values</h3>
<div class="paragraph">
<p>None</p>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_74">Allowed From</h3>
<div class="paragraph">
<p>Threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_74">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_74">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">/* Set the internal system time to 0x1234. */
tx_time_set(0x1234);

/* Current time now contains 0x1234 until the next timer
interrupt. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_74">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_time_services">Time Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_timer_activate">tx_timer_activate</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Activate application timer</p>
</div>
<div class="sect2">
<h3 id="_prototype_75">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_timer_activate(TX_TIMER *timer_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_75">Description</h3>
<div class="paragraph">
<p>This service activates the specified application timer. The expiration routines of timers that expire at the same time are executed in the order they were activated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>An expired one-shot timer must be reset via</em> <strong><em>tx_timer_change</em></strong> <em>before it can be activated again.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_75">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>timer_ptr</em>: Pointer to a previously created application timer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_75">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful application timer activation.</p>
</li>
<li>
<p><strong>TX_TIMER_ERROR</strong> (0x15) Invalid application timer pointer.</p>
</li>
<li>
<p><strong>TX_ACTIVATE_ERROR</strong> (0x17) Timer was already active or is a one-shot timer that has already expired.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_75">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_75">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_75">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_TIMER my_timer;
UINT status;

/* Activate an application timer. Assume that the
application timer has already been created. */
status = tx_timer_activate(&amp;my_timer);

/* If status equals TX_SUCCESS, the application timer is
now active. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_75">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_timer_services">Timer Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_timer_change">tx_timer_change</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Change application timer</p>
</div>
<div class="sect2">
<h3 id="_prototype_76">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_timer_change(
    TX_TIMER *timer_ptr,
    ULONG initial_ticks,
    ULONG reschedule_ticks);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_76">Description</h3>
<div class="paragraph">
<p>This service changes the expiration characteristics of the specified application timer. The timer must be deactivated prior to calling this service.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>A call to the</em> <strong><em>tx_timer_activate</em></strong> <em>service is required after this service in order to start the timer again.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_76">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>timer_ptr</em>: Pointer to a timer control block.</p>
</li>
<li>
<p><em>initial_ticks</em>: Specifies the initial number of ticks for timer expiration. Legal values range from 1 through 0xFFFFFFFF.</p>
</li>
<li>
<p><em>reschedule_ticks</em>: Specifies the number of ticks for all timer expirations after the first. A zero for this parameter makes the timer a <em>one-shot</em> timer. Otherwise, for periodic timers, legal values range from 1 through 0xFFFFFFFF.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>An expired one-shot timer must be reset via</em>
<strong><em>tx_timer_change</em></strong> <em>before it can be activated again.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_76">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful application timer change.</p>
</li>
<li>
<p><strong>TX_TIMER_ERROR</strong> (0x15) Invalid application timer pointer.</p>
</li>
<li>
<p><strong>TX_TICK_ERROR</strong> (0x16) Invalid value (a zero) supplied for initial ticks.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_76">Allowed From</h3>
<div class="paragraph">
<p>Threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_76">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_76">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_TIMER my_timer;
UINT status;

/* Change a previously created and now deactivated timer
to expire every 50 timer ticks, including the initial
expiration. */
status = tx_timer_change(&amp;my_timer,50, 50);

/* If status equals TX_SUCCESS, the specified timer is
changed to expire every 50 ticks. */

/* Activate the specified timer to get it started again. */
status = tx_timer_activate(&amp;my_timer);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_76">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_timer_services">Timer Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_timer_create">tx_timer_create</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create application timer</p>
</div>
<div class="sect2">
<h3 id="_prototype_77">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_timer_create(
    TX_TIMER *timer_ptr,
    CHAR *name_ptr,
    VOID (*expiration_function)(ULONG),
    ULONG expiration_input,
    ULONG initial_ticks,
    ULONG reschedule_ticks,
    UINT auto_activate);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_77">Description</h3>
<div class="paragraph">
<p>This service creates an application timer with the specified
expiration function and
periodic.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_77">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>timer_ptr</em>: Pointer to a timer control block</p>
</li>
<li>
<p><em>name_ptr</em>: Pointer to the name of the timer.</p>
</li>
<li>
<p><em>expiration_function</em>: Application function to call when the timer expires.</p>
</li>
<li>
<p><em>expiration_input</em>: Input to pass to expiration function when timer expires.</p>
</li>
<li>
<p><em>initial_ticks</em>: Specifies the initial number of ticks for timer expiration. Legal values range from 1 through 0xFFFFFFFF.</p>
</li>
<li>
<p><em>reschedule_ticks</em>: Specifies the number of ticks for all timer expirations after the first. A zero for this parameter makes the timer a <em>one-shot</em> timer. Otherwise, for periodic timers, legal values range from 1 through 0xFFFFFFFF.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>After a one-shot timer expires, it must be reset via   tx_timer_change before it can be activated again.</em>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><em>auto_activate</em>: Determines if the timer is automatically activated during creation. If this value is <strong>TX_AUTO_ACTIVATE</strong> (0x01) the timer is made active. Otherwise, if the value <strong>TX_NO_ACTIVATE</strong> (0x00) is selected, the timer is created in a non-active state. In this case, a subsequent <strong><em>tx_timer_activate</em></strong> service call is necessary to get the timer actually started.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_77">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful application timer creation.</p>
</li>
<li>
<p><strong>TX_TIMER_ERROR</strong> (0x15) Invalid application timer pointer. Either the pointer is NULL or the timer is already created.</p>
</li>
<li>
<p><strong>TX_TICK_ERROR</strong> (0x16) Invalid value (a zero) supplied for initial ticks.</p>
</li>
<li>
<p><strong>TX_ACTIVATE_ERROR</strong> (0x17) Invalid activation selected.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_77">Allowed From</h3>
<div class="paragraph">
<p>Initialization and threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_77">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_77">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_TIMER my_timer;
UINT status;

/* Create an application timer that executes
"my_timer_function" after 100 ticks initially and then
after every 25 ticks. This timer is specified to start
immediately! */
status = tx_timer_create(&amp;my_timer,"my_timer_name",
    my_timer_function, 0x1234, 100, 25,
    TX_AUTO_ACTIVATE);

/* If status equals TX_SUCCESS, my_timer_function will
be called 100 timer ticks later and then called every
25 timer ticks. Note that the value 0x1234 is passed to
my_timer_function every time it is called. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_77">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_timer_services">Timer Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_timer_deactivate">tx_timer_deactivate</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deactivate application timer</p>
</div>
<div class="sect2">
<h3 id="_prototype_78">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_timer_deactivate(TX_TIMER *timer_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_78">Description</h3>
<div class="paragraph">
<p>This service deactivates the specified application timer. If the timer is already deactivated, this service has no effect.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_78">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>timer_ptr</em>: Pointer to a previously created application timer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_78">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful application timer deactivation.</p>
</li>
<li>
<p><strong>TX_TIMER_ERROR</strong> (0x15) Invalid application timer pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_78">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_78">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_78">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_TIMER my_timer;
UINT status;

/* Deactivate an application timer. Assume that the
application timer has already been created. */
status = tx_timer_deactivate(&amp;my_timer);

/* If status equals TX_SUCCESS, the application timer is
now deactivated. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_78">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_timer_services">Timer Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_timer_delete">tx_timer_delete</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delete application timer</p>
</div>
<div class="sect2">
<h3 id="_prototype_79">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_timer_delete(TX_TIMER *timer_ptr);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_79">Description</h3>
<div class="paragraph">
<p>This service deletes the specified application timer.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>It is the application&#8217;s responsibility to prevent use of a deleted timer.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_79">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>timer_ptr</em>: Pointer to a previously created application timer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_79">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful application timer deletion.</p>
</li>
<li>
<p><strong>TX_TIMER_ERROR</strong> (0x15) Invalid application timer pointer.</p>
</li>
<li>
<p><strong>TX_CALLER_ERROR</strong> (0x13) Invalid caller of this service.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_79">Allowed From</h3>
<div class="paragraph">
<p>Threads</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_79">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_79">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_TIMER my_timer;
UINT status;

/* Delete application timer. Assume that the application
timer has already been created. */
status = tx_timer_delete(&amp;my_timer);

/* If status equals TX_SUCCESS, the application timer is
deleted. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_79">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_timer_services">Timer Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_timer_info_get">tx_timer_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Retrieve information about an application timer</p>
</div>
<div class="sect2">
<h3 id="_prototype_80">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_timer_info_get(
    TX_TIMER *timer_ptr,
    CHAR **name,
    UINT *active,
    ULONG *remaining_ticks,
    ULONG *reschedule_ticks,
    TX_TIMER **next_timer);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_80">Description</h3>
<div class="paragraph">
<p>This service retrieves information about the specified application timer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_80">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>timer_ptr</em>: Pointer to a previously created application timer.</p>
</li>
<li>
<p><em>name</em>: Pointer to destination for the pointer to the timer&#8217;s name.</p>
</li>
<li>
<p><em>active</em>: Pointer to destination for the timer active indication. If the timer is inactive or this service is called from the timer itself, a <strong>TX_FALSE</strong> value is returned. Otherwise, if the timer is active, a <strong>TX_TRUE</strong> value is returned.</p>
</li>
<li>
<p><em>remaining_ticks</em>: Pointer to destination for the number of timer ticks left before the timer expires.</p>
</li>
<li>
<p><em>reschedule_ticks</em>: Pointer to destination for the number of timer ticks that will be used to automatically reschedule this timer. If the value is zero, then the timer is a one-shot and won&#8217;t be rescheduled.</p>
</li>
<li>
<p><em>next_timer</em>: Pointer to destination for the pointer of the next created application timer.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a <strong>TX_NULL</strong> for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_80">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful timer information retrieval.</p>
</li>
<li>
<p><strong>TX_TIMER_ERROR</strong> (0x15) Invalid application timer pointer.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_80">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_80">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_80">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_TIMER my_timer;
CHAR *name;
UINT active;
ULONG remaining_ticks;
ULONG reschedule_ticks;
TX_TIMER *next_timer;
UINT status;

/* Retrieve information about the previously created
application timer "my_timer." */
status = tx_timer_info_get(&amp;my_timer, &amp;name,
    &amp;active,&amp;remaining_ticks,
    &amp;reschedule_ticks,
    &amp;next_timer);

/* If status equals TX_SUCCESS, the information requested is
valid. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_80">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_timer_services">Timer Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_timer_performance_info_get">tx_timer_performance_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get timer performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_81">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_timer_performance_info_get(
    TX_TIMER *timer_ptr,
    ULONG *activates,
    ULONG *reactivates,
    ULONG *deactivates,
    ULONG *expirations,
    ULONG *expiration_adjusts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_81">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about the specified application timer.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong><em>TX_TIMER_ENABLE_PERFORMANCE_INFO</em></strong> <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_81">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>timer_ptr</em>: Pointer to previously created timer.</p>
</li>
<li>
<p><em>activates</em>: Pointer to destination for the number of activation requests performed on this timer.</p>
</li>
<li>
<p><em>reactivates</em>: Pointer to destination for the number of automatic reactivations performed on this periodic timer.</p>
</li>
<li>
<p><em>deactivates</em>: Pointer to destination for the number of deactivation requests performed on this timer.</p>
</li>
<li>
<p><em>expirations</em>: Pointer to destination for the number of expirations of this timer.</p>
</li>
<li>
<p><em>expiration_adjusts</em>: Pointer to destination for the number of internal expiration adjustments performed on this timer. These adjustments are done in the timer interrupt processing for timers that are larger than the default timer list size (by default timers with expirations greater than 32 ticks).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a TX_NULL for any parameter indicates the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_81">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful timer performance get.</p>
</li>
<li>
<p><strong>TX_PTR_ERROR</strong> (0x03) Invalid timer pointer.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_81">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_81">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_81">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">TX_TIMER my_timer;
ULONG activates;
ULONG reactivates;
ULONG deactivates;
ULONG expirations;
ULONG expiration_adjusts;

/* Retrieve performance information on the previously created
timer. */
status = tx_timer_performance_info_get(&amp;my_timer, &amp;activates,
    &amp;reactivates,&amp;deactivates, &amp;expirations,
    &amp;expiration_adjusts);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_81">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_timer_services">Timer Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tx_timer_performance_system_info_get">tx_timer_performance_system_info_get</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Get timer system performance information</p>
</div>
<div class="sect2">
<h3 id="_prototype_82">Prototype</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">UINT tx_timer_performance_system_info_get(
    ULONG *activates,
    ULONG *reactivates,
    ULONG *deactivates,
    ULONG *expirations,
    ULONG *expiration_adjusts);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_82">Description</h3>
<div class="paragraph">
<p>This service retrieves performance information about all the application timers in the system.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<em>The ThreadX library and application must be built with</em> <strong>TX_TIMER_ENABLE_PERFORMANCE_INFO</strong> <em>defined for this service to return performance information.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_82">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p><em>activates</em>: Pointer to destination for the total number of activation requests performed on all timers.</p>
</li>
<li>
<p><em>reactivates</em>: Pointer to destination for the total number of automatic reactivation performed on all periodic timers.</p>
</li>
<li>
<p><em>deactivates</em>: Pointer to destination for the total number of deactivation requests performed on all timers.</p>
</li>
<li>
<p><em>expirations</em>: Pointer to destination for the total number of expirations on all timers.</p>
</li>
<li>
<p><em>expiration_adjusts</em>: Pointer to destination for the total number of internal expiration adjustments performed on all timers. These adjustments are done in the timer interrupt processing for timers that are larger than the default timer list size (by default timers with expirations greater than 32 ticks).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<em>Supplying a <strong>TX_NULL</strong> for any parameter indicates that the parameter is not required.</em>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_return_values_82">Return Values</h3>
<div class="ulist">
<ul>
<li>
<p><strong>TX_SUCCESS</strong> (0x00) Successful timer system performance get.</p>
</li>
<li>
<p><strong>TX_FEATURE_NOT_ENABLED</strong> (0xFF) The system was not compiled with performance information enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_allowed_from_82">Allowed From</h3>
<div class="paragraph">
<p>Initialization, threads, timers, and ISRs</p>
</div>
</div>
<div class="sect2">
<h3 id="_preemption_possible_82">Preemption Possible</h3>
<div class="paragraph">
<p>No</p>
</div>
</div>
<div class="sect2">
<h3 id="_example_82">Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c" data-lang="c">ULONG activates;
ULONG reactivates;
ULONG deactivates;
ULONG expirations;
ULONG expiration_adjusts;

/* Retrieve performance information on all previously created
timers. */
status = tx_timer_performance_system_info_get(&amp;activates,
    &amp;reactivates, &amp;deactivates, &amp;expirations,
    &amp;expiration_adjusts);

/* If status is TX_SUCCESS the performance information was
successfully retrieved. */</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_see_also_82">See Also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#_timer_services">Timer Services</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-02-07 07:46:26 UTC
</div>
</div>
</body>
</html>